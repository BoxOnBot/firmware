ARM GAS  /tmp/ccupTZ7i.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"custom_memory_manager.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.prvHeapInit,"ax",%progbits
  16              		.align	1
  17              		.arch armv6s-m
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	prvHeapInit:
  24              	.LFB8:
  25              		.file 1 "micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c"
   1:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*
   2:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * A custom implementation of pvPortMallocMicroROS() and vPortFreeMicroROS() with realloc and
   3:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * calloc features based on FreeRTOS heap4.c.
   4:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  */
   5:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  
   6:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #include <stdlib.h>
   7:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #include <string.h>
   8:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
   9:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
  10:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** all the API functions to use the MPU wrappers.  That should only be done when
  11:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** task.h is included from an application file. */
  12:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  13:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  14:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #include "FreeRTOS.h"
  15:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #include "task.h"
  16:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  17:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  18:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  19:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #if( configSUPPORT_DYNAMIC_ALLOCATION == 0 )
  20:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	#error This file must not be used if configSUPPORT_DYNAMIC_ALLOCATION is 0
  21:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #endif
  22:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  23:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Block sizes must not get too small. */
  24:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #define heapMINIMUM_BLOCK_SIZE	( ( size_t ) ( xHeapStructSize << 1 ) )
  25:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  26:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Assumes 8bit bytes! */
  27:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** #define heapBITS_PER_BYTE		( ( size_t ) 8 )
  28:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  29:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Allocate the memory for the heap. */
  30:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static uint8_t ucHeap[ configTOTAL_HEAP_SIZE ];
  31:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  32:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Define the linked list structure.  This is used to link free blocks in order
  33:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** of their memory address. */
ARM GAS  /tmp/ccupTZ7i.s 			page 2


  34:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** typedef struct A_BLOCK_LINK
  35:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
  36:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	struct A_BLOCK_LINK *pxNextFreeBlock;	/*<< The next free block in the list. */
  37:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	size_t xBlockSize;						/*<< The size of the free block. */
  38:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** } BlockLink_t;
  39:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  40:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
  41:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  42:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*
  43:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * Inserts a block of memory that is being freed into the correct position in
  44:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * the list of free memory blocks.  The block being freed will be merged with
  45:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * the block in front it and/or the block behind it if the memory blocks are
  46:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * adjacent to each other.
  47:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  */
  48:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static void prvInsertBlockIntoFreeList( BlockLink_t *pxBlockToInsert );
  49:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  50:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*
  51:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * Called automatically to setup the required heap structures the first time
  52:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  * pvPortMallocMicroROS() is called.
  53:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****  */
  54:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static void prvHeapInit( void );
  55:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  56:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
  57:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  58:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* The size of the structure placed at the beginning of each allocated memory
  59:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** block must by correctly byte aligned. */
  60:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static const size_t xHeapStructSize	= ( sizeof( BlockLink_t ) + ( ( size_t ) ( portBYTE_ALIGNMENT -
  61:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  62:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Create a couple of list links to mark the start and end of the list. */
  63:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static BlockLink_t xStart, *pxEnd = NULL;
  64:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  65:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Keeps track of the number of free bytes remaining, but says nothing about
  66:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** fragmentation. */
  67:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static size_t xFreeBytesRemaining = 0U;
  68:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static size_t xMinimumEverFreeBytesRemaining = 0U;
  69:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  70:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /* Gets set to the top bit of an size_t type.  When this bit in the xBlockSize
  71:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** member of an BlockLink_t structure is set then the block belongs to the
  72:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** application.  When the bit is free the block is still part of the free heap
  73:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** space. */
  74:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static size_t xBlockAllocatedBit = 0;
  75:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  76:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
  77:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  78:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void *pvPortMallocMicroROS( size_t xWantedSize )
  79:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
  80:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxBlock, *pxPreviousBlock, *pxNewBlockLink;
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void *pvReturn = NULL;
  82:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  83:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
  84:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
  85:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* If this is the first call to malloc then the heap will require
  86:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		initialisation to setup the list of free blocks. */
  87:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if( pxEnd == NULL )
  88:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
  89:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			prvHeapInit();
  90:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
ARM GAS  /tmp/ccupTZ7i.s 			page 3


  91:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		else
  92:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
  93:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			mtCOVERAGE_TEST_MARKER();
  94:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
  95:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
  96:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* Check the requested block size is not so large that the top bit is
  97:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		set.  The top bit of the block size member of the BlockLink_t structure
  98:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		is used to determine who owns the block - the application or the
  99:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		kernel, so it must be free. */
 100:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if( ( xWantedSize & xBlockAllocatedBit ) == 0 )
 101:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 102:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			/* The wanted size is increased so it can contain a BlockLink_t
 103:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			structure in addition to the requested amount of bytes. */
 104:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			if( xWantedSize > 0 )
 105:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 106:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				xWantedSize += xHeapStructSize;
 107:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 108:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				/* Ensure that blocks are always aligned to the required number
 109:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				of bytes. */
 110:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				if( ( xWantedSize & portBYTE_ALIGNMENT_MASK ) != 0x00 )
 111:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 112:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* Byte alignment required. */
 113:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					xWantedSize += ( portBYTE_ALIGNMENT - ( xWantedSize & portBYTE_ALIGNMENT_MASK ) );
 114:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					configASSERT( ( xWantedSize & portBYTE_ALIGNMENT_MASK ) == 0 );
 115:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 116:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				else
 117:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 118:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					mtCOVERAGE_TEST_MARKER();
 119:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 120:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 121:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			else
 122:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 123:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				mtCOVERAGE_TEST_MARKER();
 124:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 125:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 126:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			if( ( xWantedSize > 0 ) && ( xWantedSize <= xFreeBytesRemaining ) )
 127:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 128:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				/* Traverse the list from the start	(lowest address) block until
 129:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				one	of adequate size is found. */
 130:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				pxPreviousBlock = &xStart;
 131:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				pxBlock = xStart.pxNextFreeBlock;
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				while( ( pxBlock->xBlockSize < xWantedSize ) && ( pxBlock->pxNextFreeBlock != NULL ) )
 133:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 134:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxPreviousBlock = pxBlock;
 135:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock = pxBlock->pxNextFreeBlock;
 136:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 137:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 138:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				/* If the end marker was reached then a block of adequate size
 139:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				was	not found. */
 140:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				if( pxBlock != pxEnd )
 141:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 142:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* Return the memory space pointed to - jumping over the
 143:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					BlockLink_t structure at its start. */
 144:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pvReturn = ( void * ) ( ( ( uint8_t * ) pxPreviousBlock->pxNextFreeBlock ) + xHeapStructSize )
 145:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 146:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* This block is being returned for use so must be taken out
 147:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					of the list of free blocks. */
ARM GAS  /tmp/ccupTZ7i.s 			page 4


 148:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxPreviousBlock->pxNextFreeBlock = pxBlock->pxNextFreeBlock;
 149:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 150:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* If the block is larger than required it can be split into
 151:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					two. */
 152:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					if( ( pxBlock->xBlockSize - xWantedSize ) > heapMINIMUM_BLOCK_SIZE )
 153:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 154:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						/* This block is to be split into two.  Create a new
 155:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						block following the number of bytes requested. The void
 156:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						cast is used to prevent byte alignment warnings from the
 157:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						compiler. */
 158:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						pxNewBlockLink = ( void * ) ( ( ( uint8_t * ) pxBlock ) + xWantedSize );
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						configASSERT( ( ( ( size_t ) pxNewBlockLink ) & portBYTE_ALIGNMENT_MASK ) == 0 );
 160:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 161:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						/* Calculate the sizes of two blocks split from the
 162:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						single block. */
 163:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						pxNewBlockLink->xBlockSize = pxBlock->xBlockSize - xWantedSize;
 164:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						pxBlock->xBlockSize = xWantedSize;
 165:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 166:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						/* Insert the new block into the list of free blocks. */
 167:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						prvInsertBlockIntoFreeList( pxNewBlockLink );
 168:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 169:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					else
 170:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 171:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						mtCOVERAGE_TEST_MARKER();
 172:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 173:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 174:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					xFreeBytesRemaining -= pxBlock->xBlockSize;
 175:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 176:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					if( xFreeBytesRemaining < xMinimumEverFreeBytesRemaining )
 177:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 178:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						xMinimumEverFreeBytesRemaining = xFreeBytesRemaining;
 179:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 180:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					else
 181:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 182:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						mtCOVERAGE_TEST_MARKER();
 183:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 184:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 185:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* The block is being returned - it is allocated and owned
 186:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					by the application and has no "next" block. */
 187:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock->xBlockSize |= xBlockAllocatedBit;
 188:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock->pxNextFreeBlock = NULL;
 189:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 190:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				else
 191:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 192:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					mtCOVERAGE_TEST_MARKER();
 193:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 194:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 195:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			else
 196:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 197:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				mtCOVERAGE_TEST_MARKER();
 198:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 199:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 200:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		else
 201:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 202:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			mtCOVERAGE_TEST_MARKER();
 203:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 204:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
ARM GAS  /tmp/ccupTZ7i.s 			page 5


 205:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		traceMALLOC( pvReturn, xWantedSize );
 206:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 207:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	( void ) xTaskResumeAll();
 208:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 209:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	#if( configUSE_MALLOC_FAILED_HOOK == 1 )
 210:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 211:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if( pvReturn == NULL )
 212:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 213:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			extern void vApplicationMallocFailedHook( void );
 214:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			vApplicationMallocFailedHook();
 215:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 216:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		else
 217:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 218:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			mtCOVERAGE_TEST_MARKER();
 219:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 220:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 221:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	#endif
 222:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	configASSERT( ( ( ( size_t ) pvReturn ) & ( size_t ) portBYTE_ALIGNMENT_MASK ) == 0 );
 224:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 225:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 226:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 227:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 228:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void vPortFreeMicroROS( void *pv )
 229:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 230:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** uint8_t *puc = ( uint8_t * ) pv;
 231:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxLink;
 232:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 233:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if( pv != NULL )
 234:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 235:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* The memory being freed will have an BlockLink_t structure immediately
 236:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		before it. */
 237:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		puc -= xHeapStructSize;
 238:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 239:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* This casting is to keep the compiler from issuing warnings. */
 240:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxLink = ( void * ) puc;
 241:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 242:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* Check the block is actually allocated. */
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( ( pxLink->xBlockSize & xBlockAllocatedBit ) != 0 );
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 245:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 246:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if( ( pxLink->xBlockSize & xBlockAllocatedBit ) != 0 )
 247:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 248:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			if( pxLink->pxNextFreeBlock == NULL )
 249:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 250:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				/* The block is being returned to the heap - it is no longer
 251:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				allocated. */
 252:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				pxLink->xBlockSize &= ~xBlockAllocatedBit;
 253:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 254:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				vTaskSuspendAll();
 255:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 256:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					/* Add this block to the list of free blocks. */
 257:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					xFreeBytesRemaining += pxLink->xBlockSize;
 258:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					traceFREE( pv, pxLink->xBlockSize );
 259:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					prvInsertBlockIntoFreeList( ( ( BlockLink_t * ) pxLink ) );
 260:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 261:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				( void ) xTaskResumeAll();
ARM GAS  /tmp/ccupTZ7i.s 			page 6


 262:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 263:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			else
 264:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 265:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				mtCOVERAGE_TEST_MARKER();
 266:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 267:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 268:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		else
 269:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 270:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			mtCOVERAGE_TEST_MARKER();
 271:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 272:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 273:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 274:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 275:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 276:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 277:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** size_t getBlockSize( void *pv )
 278:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 279:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 280:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	uint8_t *puc = ( uint8_t * ) pv;
 281:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	BlockLink_t *pxLink;
 282:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 283:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	puc -= xHeapStructSize;
 284:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxLink = ( void * ) puc;
 285:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	size_t count = pxLink->xBlockSize & ~xBlockAllocatedBit;
 287:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 288:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return count;
 289:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 290:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 291:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 292:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void *pvPortReallocMicroROS( void *pv, size_t xWantedSize )
 293:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 294:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 295:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 296:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	void * newmem = pvPortMallocMicroROS(xWantedSize);
 297:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if (newmem != NULL && pv != NULL)
 298:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		size_t count = getBlockSize(pv) - xHeapStructSize;
 300:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 301:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 302:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			count = xWantedSize;
 303:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 304:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		memcpy(newmem, pv, count);
 305:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 306:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		vPortFreeMicroROS(pv);
 307:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 308:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 309:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	( void ) xTaskResumeAll();
 310:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 311:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return newmem;
 312:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 313:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 314:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 315:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void *pvPortCallocMicroROS( size_t num, size_t xWantedSize )
 316:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 317:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 318:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	size_t count = xWantedSize*num;
ARM GAS  /tmp/ccupTZ7i.s 			page 7


 319:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 320:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	void * mem = pvPortMallocMicroROS(count);
 321:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	char *in_dest = (char*)mem;
 322:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	while(count--)
 324:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 325:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 326:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	( void ) xTaskResumeAll();
 327:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	return mem;
 328:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 329:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 330:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 331:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** size_t xPortGetFreeHeapSizeMicroROS( void )
 332:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 333:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return xFreeBytesRemaining;
 334:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 335:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 336:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 337:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** size_t xPortGetMinimumEverFreeHeapSizeMicroROS( void )
 338:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 339:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return xMinimumEverFreeBytesRemaining;
 340:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 341:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 342:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 343:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void vPortInitialiseBlocksMicroROS( void )
 344:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 345:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* This just exists to keep the linker quiet. */
 346:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 347:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 348:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 349:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static void prvHeapInit( void )
 350:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
  26              		.loc 1 350 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
 351:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxFirstFreeBlock;
  31              		.loc 1 351 1 view .LVU1
 352:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** uint8_t *pucAlignedHeap;
  32              		.loc 1 352 1 view .LVU2
 353:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** size_t uxAddress;
  33              		.loc 1 353 1 view .LVU3
 354:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** size_t xTotalHeapSize = configTOTAL_HEAP_SIZE;
  34              		.loc 1 354 1 view .LVU4
  35              	.LVL0:
 355:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 356:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Ensure the heap starts on a correctly aligned boundary. */
 357:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	uxAddress = ( size_t ) ucHeap;
  36              		.loc 1 357 2 view .LVU5
  37              		.loc 1 357 12 is_stmt 0 view .LVU6
  38 0000 114A     		ldr	r2, .L4
  39              	.LVL1:
 358:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 359:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if( ( uxAddress & portBYTE_ALIGNMENT_MASK ) != 0 )
  40              		.loc 1 359 2 is_stmt 1 view .LVU7
  41              		.loc 1 359 4 is_stmt 0 view .LVU8
ARM GAS  /tmp/ccupTZ7i.s 			page 8


  42 0002 5307     		lsls	r3, r2, #29
  43 0004 1ED0     		beq	.L3
 360:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 361:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		uxAddress += ( portBYTE_ALIGNMENT - 1 );
  44              		.loc 1 361 3 is_stmt 1 view .LVU9
  45              		.loc 1 361 13 is_stmt 0 view .LVU10
  46 0006 D11D     		adds	r1, r2, #7
  47              	.LVL2:
 362:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		uxAddress &= ~( ( size_t ) portBYTE_ALIGNMENT_MASK );
  48              		.loc 1 362 3 is_stmt 1 view .LVU11
  49              		.loc 1 362 13 is_stmt 0 view .LVU12
  50 0008 0723     		movs	r3, #7
  51 000a 9943     		bics	r1, r3
  52              	.LVL3:
 363:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		xTotalHeapSize -= uxAddress - ( size_t ) ucHeap;
  53              		.loc 1 363 3 is_stmt 1 view .LVU13
  54              		.loc 1 363 18 is_stmt 0 view .LVU14
  55 000c 0F4B     		ldr	r3, .L4+4
  56 000e 5B1A     		subs	r3, r3, r1
  57 0010 9B18     		adds	r3, r3, r2
  58              	.LVL4:
 362:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		uxAddress &= ~( ( size_t ) portBYTE_ALIGNMENT_MASK );
  59              		.loc 1 362 13 view .LVU15
  60 0012 0A00     		movs	r2, r1
  61              	.LVL5:
  62              	.L2:
 364:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 365:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 366:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pucAlignedHeap = ( uint8_t * ) uxAddress;
  63              		.loc 1 366 2 is_stmt 1 view .LVU16
 367:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 368:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* xStart is used to hold a pointer to the first item in the list of free
 369:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	blocks.  The void cast is used to prevent compiler warnings. */
 370:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	xStart.pxNextFreeBlock = ( void * ) pucAlignedHeap;
  64              		.loc 1 370 2 view .LVU17
  65              		.loc 1 370 25 is_stmt 0 view .LVU18
  66 0014 0E48     		ldr	r0, .L4+8
  67 0016 0260     		str	r2, [r0]
 371:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	xStart.xBlockSize = ( size_t ) 0;
  68              		.loc 1 371 2 is_stmt 1 view .LVU19
  69              		.loc 1 371 20 is_stmt 0 view .LVU20
  70 0018 0021     		movs	r1, #0
  71 001a 4160     		str	r1, [r0, #4]
 372:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 373:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* pxEnd is used to mark the end of the list of free blocks and is inserted
 374:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	at the end of the heap space. */
 375:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	uxAddress = ( ( size_t ) pucAlignedHeap ) + xTotalHeapSize;
  72              		.loc 1 375 2 is_stmt 1 view .LVU21
  73              		.loc 1 375 12 is_stmt 0 view .LVU22
  74 001c D318     		adds	r3, r2, r3
  75              	.LVL6:
 376:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	uxAddress -= xHeapStructSize;
  76              		.loc 1 376 2 is_stmt 1 view .LVU23
  77              		.loc 1 376 12 is_stmt 0 view .LVU24
  78 001e 083B     		subs	r3, r3, #8
  79              	.LVL7:
 377:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	uxAddress &= ~( ( size_t ) portBYTE_ALIGNMENT_MASK );
ARM GAS  /tmp/ccupTZ7i.s 			page 9


  80              		.loc 1 377 2 is_stmt 1 view .LVU25
  81              		.loc 1 377 12 is_stmt 0 view .LVU26
  82 0020 0720     		movs	r0, #7
  83 0022 8343     		bics	r3, r0
  84              	.LVL8:
 378:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxEnd = ( void * ) uxAddress;
  85              		.loc 1 378 2 is_stmt 1 view .LVU27
  86              		.loc 1 378 8 is_stmt 0 view .LVU28
  87 0024 0B48     		ldr	r0, .L4+12
  88 0026 0360     		str	r3, [r0]
 379:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxEnd->xBlockSize = 0;
  89              		.loc 1 379 2 is_stmt 1 view .LVU29
  90              		.loc 1 379 20 is_stmt 0 view .LVU30
  91 0028 5960     		str	r1, [r3, #4]
 380:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxEnd->pxNextFreeBlock = NULL;
  92              		.loc 1 380 2 is_stmt 1 view .LVU31
  93              		.loc 1 380 25 is_stmt 0 view .LVU32
  94 002a 1960     		str	r1, [r3]
 381:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 382:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* To start with there is a single free block that is sized to take up the
 383:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	entire heap space, minus the space taken by pxEnd. */
 384:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxFirstFreeBlock = ( void * ) pucAlignedHeap;
  95              		.loc 1 384 2 is_stmt 1 view .LVU33
  96              	.LVL9:
 385:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxFirstFreeBlock->xBlockSize = uxAddress - ( size_t ) pxFirstFreeBlock;
  97              		.loc 1 385 2 view .LVU34
  98              		.loc 1 385 43 is_stmt 0 view .LVU35
  99 002c 991A     		subs	r1, r3, r2
 100              		.loc 1 385 31 view .LVU36
 101 002e 5160     		str	r1, [r2, #4]
 386:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxFirstFreeBlock->pxNextFreeBlock = pxEnd;
 102              		.loc 1 386 2 is_stmt 1 view .LVU37
 103              		.loc 1 386 36 is_stmt 0 view .LVU38
 104 0030 1360     		str	r3, [r2]
 387:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 388:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Only one block exists - and it covers the entire usable heap space. */
 389:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	xMinimumEverFreeBytesRemaining = pxFirstFreeBlock->xBlockSize;
 105              		.loc 1 389 2 is_stmt 1 view .LVU39
 106              		.loc 1 389 33 is_stmt 0 view .LVU40
 107 0032 094B     		ldr	r3, .L4+16
 108              	.LVL10:
 109              		.loc 1 389 33 view .LVU41
 110 0034 1960     		str	r1, [r3]
 390:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	xFreeBytesRemaining = pxFirstFreeBlock->xBlockSize;
 111              		.loc 1 390 2 is_stmt 1 view .LVU42
 112              		.loc 1 390 22 is_stmt 0 view .LVU43
 113 0036 094B     		ldr	r3, .L4+20
 114 0038 1960     		str	r1, [r3]
 391:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 392:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Work out the position of the top bit in a size_t variable. */
 393:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	xBlockAllocatedBit = ( ( size_t ) 1 ) << ( ( sizeof( size_t ) * heapBITS_PER_BYTE ) - 1 );
 115              		.loc 1 393 2 is_stmt 1 view .LVU44
 116              		.loc 1 393 21 is_stmt 0 view .LVU45
 117 003a 094B     		ldr	r3, .L4+24
 118 003c 8022     		movs	r2, #128
 119              	.LVL11:
 120              		.loc 1 393 21 view .LVU46
ARM GAS  /tmp/ccupTZ7i.s 			page 10


 121 003e 1206     		lsls	r2, r2, #24
 122 0040 1A60     		str	r2, [r3]
 394:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 123              		.loc 1 394 1 view .LVU47
 124              		@ sp needed
 125 0042 7047     		bx	lr
 126              	.LVL12:
 127              	.L3:
 354:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 128              		.loc 1 354 8 view .LVU48
 129 0044 014B     		ldr	r3, .L4+4
 130 0046 E5E7     		b	.L2
 131              	.L5:
 132              		.align	2
 133              	.L4:
 134 0048 00000000 		.word	ucHeap
 135 004c 88130000 		.word	5000
 136 0050 00000000 		.word	.LANCHOR0
 137 0054 00000000 		.word	.LANCHOR1
 138 0058 00000000 		.word	.LANCHOR2
 139 005c 00000000 		.word	.LANCHOR3
 140 0060 00000000 		.word	.LANCHOR4
 141              		.cfi_endproc
 142              	.LFE8:
 144              		.section	.text.prvInsertBlockIntoFreeList,"ax",%progbits
 145              		.align	1
 146              		.syntax unified
 147              		.code	16
 148              		.thumb_func
 149              		.fpu softvfp
 151              	prvInsertBlockIntoFreeList:
 152              	.LVL13:
 153              	.LFB9:
 395:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 396:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 397:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** static void prvInsertBlockIntoFreeList( BlockLink_t *pxBlockToInsert )
 398:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** {
 154              		.loc 1 398 1 is_stmt 1 view -0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158              		.loc 1 398 1 is_stmt 0 view .LVU50
 159 0000 10B5     		push	{r4, lr}
 160              	.LCFI0:
 161              		.cfi_def_cfa_offset 8
 162              		.cfi_offset 4, -8
 163              		.cfi_offset 14, -4
 399:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxIterator;
 164              		.loc 1 399 1 is_stmt 1 view .LVU51
 400:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** uint8_t *puc;
 165              		.loc 1 400 1 view .LVU52
 401:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 402:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Iterate through the list until a block is found that has a higher address
 403:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	than the block being inserted. */
 404:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	for( pxIterator = &xStart; pxIterator->pxNextFreeBlock < pxBlockToInsert; pxIterator = pxIterator-
 166              		.loc 1 404 2 view .LVU53
 167              	.LVL14:
ARM GAS  /tmp/ccupTZ7i.s 			page 11


 168              		.loc 1 404 18 is_stmt 0 view .LVU54
 169 0002 124B     		ldr	r3, .L15
 170              	.LVL15:
 171              	.L7:
 172              		.loc 1 404 29 is_stmt 1 discriminator 1 view .LVU55
 173 0004 1A00     		movs	r2, r3
 174              		.loc 1 404 39 is_stmt 0 discriminator 1 view .LVU56
 175 0006 1B68     		ldr	r3, [r3]
 176              	.LVL16:
 177              		.loc 1 404 2 discriminator 1 view .LVU57
 178 0008 8342     		cmp	r3, r0
 179 000a FBD3     		bcc	.L7
 405:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 406:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		/* Nothing to do here, just iterate to the right position. */
 407:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 408:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 409:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Do the block being inserted, and the block it is being inserted after
 410:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	make a contiguous block of memory? */
 411:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	puc = ( uint8_t * ) pxIterator;
 180              		.loc 1 411 2 is_stmt 1 view .LVU58
 181              	.LVL17:
 412:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if( ( puc + pxIterator->xBlockSize ) == ( uint8_t * ) pxBlockToInsert )
 182              		.loc 1 412 2 view .LVU59
 183              		.loc 1 412 24 is_stmt 0 view .LVU60
 184 000c 5168     		ldr	r1, [r2, #4]
 185              		.loc 1 412 12 view .LVU61
 186 000e 5418     		adds	r4, r2, r1
 187              		.loc 1 412 4 view .LVU62
 188 0010 8442     		cmp	r4, r0
 189 0012 08D0     		beq	.L13
 190              	.L8:
 413:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 414:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxIterator->xBlockSize += pxBlockToInsert->xBlockSize;
 415:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxBlockToInsert = pxIterator;
 416:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 417:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	else
 418:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 419:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		mtCOVERAGE_TEST_MARKER();
 191              		.loc 1 419 27 is_stmt 1 view .LVU63
 420:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 421:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 422:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* Do the block being inserted, and the block it is being inserted before
 423:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	make a contiguous block of memory? */
 424:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	puc = ( uint8_t * ) pxBlockToInsert;
 192              		.loc 1 424 2 view .LVU64
 193              	.LVL18:
 425:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if( ( puc + pxBlockToInsert->xBlockSize ) == ( uint8_t * ) pxIterator->pxNextFreeBlock )
 194              		.loc 1 425 2 view .LVU65
 195              		.loc 1 425 29 is_stmt 0 view .LVU66
 196 0014 4168     		ldr	r1, [r0, #4]
 197              		.loc 1 425 12 view .LVU67
 198 0016 4418     		adds	r4, r0, r1
 199              		.loc 1 425 4 view .LVU68
 200 0018 A342     		cmp	r3, r4
 201 001a 09D0     		beq	.L14
 426:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 427:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if( pxIterator->pxNextFreeBlock != pxEnd )
ARM GAS  /tmp/ccupTZ7i.s 			page 12


 428:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 429:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			/* Form one big block from the two blocks. */
 430:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->xBlockSize += pxIterator->pxNextFreeBlock->xBlockSize;
 431:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->pxNextFreeBlock = pxIterator->pxNextFreeBlock->pxNextFreeBlock;
 432:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 433:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		else
 434:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 435:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->pxNextFreeBlock = pxEnd;
 436:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 437:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 438:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	else
 439:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 440:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxBlockToInsert->pxNextFreeBlock = pxIterator->pxNextFreeBlock;
 202              		.loc 1 440 3 is_stmt 1 view .LVU69
 203              		.loc 1 440 36 is_stmt 0 view .LVU70
 204 001c 0360     		str	r3, [r0]
 205              	.L11:
 441:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 442:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 443:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* If the block being inserted plugged a gab, so was merged with the block
 444:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	before and the block after, then it's pxNextFreeBlock pointer will have
 445:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	already been set, and should not be set here as that would make it point
 446:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	to itself. */
 447:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if( pxIterator != pxBlockToInsert )
 206              		.loc 1 447 2 is_stmt 1 view .LVU71
 207              		.loc 1 447 4 is_stmt 0 view .LVU72
 208 001e 9042     		cmp	r0, r2
 209 0020 00D0     		beq	.L6
 448:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 449:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxIterator->pxNextFreeBlock = pxBlockToInsert;
 210              		.loc 1 449 3 is_stmt 1 view .LVU73
 211              		.loc 1 449 31 is_stmt 0 view .LVU74
 212 0022 1060     		str	r0, [r2]
 450:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 451:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	else
 452:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 453:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		mtCOVERAGE_TEST_MARKER();
 213              		.loc 1 453 27 is_stmt 1 view .LVU75
 214              	.L6:
 454:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 455:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 215              		.loc 1 455 1 is_stmt 0 view .LVU76
 216              		@ sp needed
 217 0024 10BD     		pop	{r4, pc}
 218              	.LVL19:
 219              	.L13:
 414:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxBlockToInsert = pxIterator;
 220              		.loc 1 414 3 is_stmt 1 view .LVU77
 414:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxBlockToInsert = pxIterator;
 221              		.loc 1 414 44 is_stmt 0 view .LVU78
 222 0026 4068     		ldr	r0, [r0, #4]
 223              	.LVL20:
 414:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		pxBlockToInsert = pxIterator;
 224              		.loc 1 414 26 view .LVU79
 225 0028 0918     		adds	r1, r1, r0
 226 002a 5160     		str	r1, [r2, #4]
 415:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
ARM GAS  /tmp/ccupTZ7i.s 			page 13


 227              		.loc 1 415 3 is_stmt 1 view .LVU80
 228              	.LVL21:
 415:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 229              		.loc 1 415 19 is_stmt 0 view .LVU81
 230 002c 1000     		movs	r0, r2
 231 002e F1E7     		b	.L8
 232              	.LVL22:
 233              	.L14:
 427:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 234              		.loc 1 427 3 is_stmt 1 view .LVU82
 427:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 235              		.loc 1 427 35 is_stmt 0 view .LVU83
 236 0030 074C     		ldr	r4, .L15+4
 237 0032 2468     		ldr	r4, [r4]
 427:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 238              		.loc 1 427 5 view .LVU84
 239 0034 A342     		cmp	r3, r4
 240 0036 06D0     		beq	.L10
 430:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->pxNextFreeBlock = pxIterator->pxNextFreeBlock->pxNextFreeBlock;
 241              		.loc 1 430 4 is_stmt 1 view .LVU85
 430:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->pxNextFreeBlock = pxIterator->pxNextFreeBlock->pxNextFreeBlock;
 242              		.loc 1 430 62 is_stmt 0 view .LVU86
 243 0038 5B68     		ldr	r3, [r3, #4]
 430:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			pxBlockToInsert->pxNextFreeBlock = pxIterator->pxNextFreeBlock->pxNextFreeBlock;
 244              		.loc 1 430 32 view .LVU87
 245 003a C918     		adds	r1, r1, r3
 246 003c 4160     		str	r1, [r0, #4]
 431:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 247              		.loc 1 431 4 is_stmt 1 view .LVU88
 431:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 248              		.loc 1 431 49 is_stmt 0 view .LVU89
 249 003e 1368     		ldr	r3, [r2]
 431:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 250              		.loc 1 431 66 view .LVU90
 251 0040 1B68     		ldr	r3, [r3]
 252 0042 0360     		str	r3, [r0]
 253 0044 EBE7     		b	.L11
 254              	.L10:
 435:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 255              		.loc 1 435 4 is_stmt 1 view .LVU91
 435:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 256              		.loc 1 435 37 is_stmt 0 view .LVU92
 257 0046 0460     		str	r4, [r0]
 258 0048 E9E7     		b	.L11
 259              	.L16:
 260 004a C046     		.align	2
 261              	.L15:
 262 004c 00000000 		.word	.LANCHOR0
 263 0050 00000000 		.word	.LANCHOR1
 264              		.cfi_endproc
 265              	.LFE9:
 267              		.section	.text.pvPortMallocMicroROS,"ax",%progbits
 268              		.align	1
 269              		.global	pvPortMallocMicroROS
 270              		.syntax unified
 271              		.code	16
 272              		.thumb_func
ARM GAS  /tmp/ccupTZ7i.s 			page 14


 273              		.fpu softvfp
 275              	pvPortMallocMicroROS:
 276              	.LVL23:
 277              	.LFB0:
  79:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxBlock, *pxPreviousBlock, *pxNewBlockLink;
 278              		.loc 1 79 1 is_stmt 1 view -0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
  79:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxBlock, *pxPreviousBlock, *pxNewBlockLink;
 282              		.loc 1 79 1 is_stmt 0 view .LVU94
 283 0000 70B5     		push	{r4, r5, r6, lr}
 284              	.LCFI1:
 285              		.cfi_def_cfa_offset 16
 286              		.cfi_offset 4, -16
 287              		.cfi_offset 5, -12
 288              		.cfi_offset 6, -8
 289              		.cfi_offset 14, -4
 290 0002 0500     		movs	r5, r0
  80:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** void *pvReturn = NULL;
 291              		.loc 1 80 1 is_stmt 1 view .LVU95
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 292              		.loc 1 81 1 view .LVU96
 293              	.LVL24:
  83:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 294              		.loc 1 83 2 view .LVU97
 295 0004 FFF7FEFF 		bl	vTaskSuspendAll
 296              	.LVL25:
  87:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 297              		.loc 1 87 3 view .LVU98
  87:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 298              		.loc 1 87 13 is_stmt 0 view .LVU99
 299 0008 2C4B     		ldr	r3, .L35
 300 000a 1B68     		ldr	r3, [r3]
  87:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 301              		.loc 1 87 5 view .LVU100
 302 000c 002B     		cmp	r3, #0
 303 000e 14D0     		beq	.L34
 304              	.L18:
  93:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 305              		.loc 1 93 28 is_stmt 1 view .LVU101
 100:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 306              		.loc 1 100 3 view .LVU102
 100:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 307              		.loc 1 100 21 is_stmt 0 view .LVU103
 308 0010 2B4B     		ldr	r3, .L35+4
 309 0012 1B68     		ldr	r3, [r3]
 100:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 310              		.loc 1 100 5 view .LVU104
 311 0014 2B42     		tst	r3, r5
 312 0016 42D1     		bne	.L29
 104:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 313              		.loc 1 104 4 is_stmt 1 view .LVU105
 104:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 314              		.loc 1 104 6 is_stmt 0 view .LVU106
 315 0018 002D     		cmp	r5, #0
 316 001a 05D0     		beq	.L20
ARM GAS  /tmp/ccupTZ7i.s 			page 15


 106:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 317              		.loc 1 106 5 is_stmt 1 view .LVU107
 106:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 318              		.loc 1 106 17 is_stmt 0 view .LVU108
 319 001c 0835     		adds	r5, r5, #8
 320              	.LVL26:
 110:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 321              		.loc 1 110 5 is_stmt 1 view .LVU109
 110:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 322              		.loc 1 110 7 is_stmt 0 view .LVU110
 323 001e 6B07     		lsls	r3, r5, #29
 324 0020 02D0     		beq	.L20
 113:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					configASSERT( ( xWantedSize & portBYTE_ALIGNMENT_MASK ) == 0 );
 325              		.loc 1 113 6 is_stmt 1 view .LVU111
 113:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					configASSERT( ( xWantedSize & portBYTE_ALIGNMENT_MASK ) == 0 );
 326              		.loc 1 113 18 is_stmt 0 view .LVU112
 327 0022 0723     		movs	r3, #7
 328 0024 9D43     		bics	r5, r3
 329              	.LVL27:
 113:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					configASSERT( ( xWantedSize & portBYTE_ALIGNMENT_MASK ) == 0 );
 330              		.loc 1 113 18 view .LVU113
 331 0026 0835     		adds	r5, r5, #8
 332              	.LVL28:
 114:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 333              		.loc 1 114 6 is_stmt 1 view .LVU114
 334              	.L20:
 123:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 335              		.loc 1 123 29 view .LVU115
 126:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 336              		.loc 1 126 4 view .LVU116
 126:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 337              		.loc 1 126 6 is_stmt 0 view .LVU117
 338 0028 002D     		cmp	r5, #0
 339 002a 3AD0     		beq	.L30
 126:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 340              		.loc 1 126 45 discriminator 1 view .LVU118
 341 002c 254B     		ldr	r3, .L35+8
 342 002e 1B68     		ldr	r3, [r3]
 126:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 343              		.loc 1 126 28 discriminator 1 view .LVU119
 344 0030 AB42     		cmp	r3, r5
 345 0032 3DD3     		bcc	.L31
 130:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				pxBlock = xStart.pxNextFreeBlock;
 346              		.loc 1 130 5 is_stmt 1 view .LVU120
 347              	.LVL29:
 131:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				while( ( pxBlock->xBlockSize < xWantedSize ) && ( pxBlock->pxNextFreeBlock != NULL ) )
 348              		.loc 1 131 5 view .LVU121
 131:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				while( ( pxBlock->xBlockSize < xWantedSize ) && ( pxBlock->pxNextFreeBlock != NULL ) )
 349              		.loc 1 131 13 is_stmt 0 view .LVU122
 350 0034 244A     		ldr	r2, .L35+12
 351 0036 1468     		ldr	r4, [r2]
 352              	.LVL30:
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 353              		.loc 1 132 5 is_stmt 1 view .LVU123
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 354              		.loc 1 132 10 is_stmt 0 view .LVU124
 355 0038 04E0     		b	.L22
ARM GAS  /tmp/ccupTZ7i.s 			page 16


 356              	.LVL31:
 357              	.L34:
  89:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 358              		.loc 1 89 4 is_stmt 1 view .LVU125
 359 003a FFF7FEFF 		bl	prvHeapInit
 360              	.LVL32:
 361 003e E7E7     		b	.L18
 362              	.LVL33:
 363              	.L32:
 134:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock = pxBlock->pxNextFreeBlock;
 364              		.loc 1 134 22 is_stmt 0 view .LVU126
 365 0040 2200     		movs	r2, r4
 366              	.LVL34:
 135:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 367              		.loc 1 135 14 view .LVU127
 368 0042 1C00     		movs	r4, r3
 369              	.LVL35:
 370              	.L22:
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 371              		.loc 1 132 10 is_stmt 1 view .LVU128
 372 0044 6368     		ldr	r3, [r4, #4]
 373 0046 AB42     		cmp	r3, r5
 374 0048 02D2     		bcs	.L21
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 375              		.loc 1 132 62 is_stmt 0 discriminator 1 view .LVU129
 376 004a 2368     		ldr	r3, [r4]
 132:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 377              		.loc 1 132 50 discriminator 1 view .LVU130
 378 004c 002B     		cmp	r3, #0
 379 004e F7D1     		bne	.L32
 380              	.L21:
 140:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 381              		.loc 1 140 5 is_stmt 1 view .LVU131
 140:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 382              		.loc 1 140 17 is_stmt 0 view .LVU132
 383 0050 1A4B     		ldr	r3, .L35
 384 0052 1B68     		ldr	r3, [r3]
 140:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 385              		.loc 1 140 7 view .LVU133
 386 0054 A342     		cmp	r3, r4
 387 0056 2DD0     		beq	.L33
 144:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 388              		.loc 1 144 6 is_stmt 1 view .LVU134
 144:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 389              		.loc 1 144 15 is_stmt 0 view .LVU135
 390 0058 1668     		ldr	r6, [r2]
 391 005a 0836     		adds	r6, r6, #8
 392              	.LVL36:
 148:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 393              		.loc 1 148 6 is_stmt 1 view .LVU136
 148:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 394              		.loc 1 148 39 is_stmt 0 view .LVU137
 395 005c 2368     		ldr	r3, [r4]
 396 005e 1360     		str	r3, [r2]
 152:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 397              		.loc 1 152 6 is_stmt 1 view .LVU138
 152:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
ARM GAS  /tmp/ccupTZ7i.s 			page 17


 398              		.loc 1 152 32 is_stmt 0 view .LVU139
 399 0060 6368     		ldr	r3, [r4, #4]
 400 0062 5B1B     		subs	r3, r3, r5
 152:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 401              		.loc 1 152 8 view .LVU140
 402 0064 102B     		cmp	r3, #16
 403 0066 08D9     		bls	.L23
 158:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						configASSERT( ( ( ( size_t ) pxNewBlockLink ) & portBYTE_ALIGNMENT_MASK ) == 0 );
 404              		.loc 1 158 7 is_stmt 1 view .LVU141
 158:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						configASSERT( ( ( ( size_t ) pxNewBlockLink ) & portBYTE_ALIGNMENT_MASK ) == 0 );
 405              		.loc 1 158 22 is_stmt 0 view .LVU142
 406 0068 6019     		adds	r0, r4, r5
 407              	.LVL37:
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 408              		.loc 1 159 7 is_stmt 1 view .LVU143
 409 006a 4207     		lsls	r2, r0, #29
 410 006c 01D0     		beq	.L24
 411              	.LVL38:
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 412              		.loc 1 159 7 discriminator 1 view .LVU144
 413              		.syntax divided
 414              	@ 159 "micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c" 1
 415 006e 72B6     		 cpsid i 
 416              	@ 0 "" 2
 417              		.thumb
 418              		.syntax unified
 419              	.L25:
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 420              		.loc 1 159 7 discriminator 3 view .LVU145
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 421              		.loc 1 159 7 discriminator 3 view .LVU146
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 422              		.loc 1 159 7 discriminator 3 view .LVU147
 423 0070 FEE7     		b	.L25
 424              	.L24:
 159:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 425              		.loc 1 159 87 discriminator 2 view .LVU148
 163:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						pxBlock->xBlockSize = xWantedSize;
 426              		.loc 1 163 7 discriminator 2 view .LVU149
 163:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 						pxBlock->xBlockSize = xWantedSize;
 427              		.loc 1 163 34 is_stmt 0 discriminator 2 view .LVU150
 428 0072 4360     		str	r3, [r0, #4]
 164:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 429              		.loc 1 164 7 is_stmt 1 discriminator 2 view .LVU151
 164:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 430              		.loc 1 164 27 is_stmt 0 discriminator 2 view .LVU152
 431 0074 6560     		str	r5, [r4, #4]
 167:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 432              		.loc 1 167 7 is_stmt 1 discriminator 2 view .LVU153
 433 0076 FFF7FEFF 		bl	prvInsertBlockIntoFreeList
 434              	.LVL39:
 435              	.L23:
 171:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 436              		.loc 1 171 31 view .LVU154
 174:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 437              		.loc 1 174 6 view .LVU155
 174:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
ARM GAS  /tmp/ccupTZ7i.s 			page 18


 438              		.loc 1 174 36 is_stmt 0 view .LVU156
 439 007a 6268     		ldr	r2, [r4, #4]
 174:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 440              		.loc 1 174 26 view .LVU157
 441 007c 1149     		ldr	r1, .L35+8
 442 007e 0B68     		ldr	r3, [r1]
 443 0080 9B1A     		subs	r3, r3, r2
 444 0082 0B60     		str	r3, [r1]
 176:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 445              		.loc 1 176 6 is_stmt 1 view .LVU158
 176:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 446              		.loc 1 176 30 is_stmt 0 view .LVU159
 447 0084 1149     		ldr	r1, .L35+16
 448 0086 0968     		ldr	r1, [r1]
 176:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					{
 449              		.loc 1 176 8 view .LVU160
 450 0088 8B42     		cmp	r3, r1
 451 008a 01D2     		bcs	.L26
 178:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 452              		.loc 1 178 7 is_stmt 1 view .LVU161
 178:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 453              		.loc 1 178 38 is_stmt 0 view .LVU162
 454 008c 0F49     		ldr	r1, .L35+16
 455 008e 0B60     		str	r3, [r1]
 456              	.L26:
 182:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					}
 457              		.loc 1 182 31 is_stmt 1 view .LVU163
 187:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock->pxNextFreeBlock = NULL;
 458              		.loc 1 187 6 view .LVU164
 187:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					pxBlock->pxNextFreeBlock = NULL;
 459              		.loc 1 187 26 is_stmt 0 view .LVU165
 460 0090 0B4B     		ldr	r3, .L35+4
 461 0092 1B68     		ldr	r3, [r3]
 462 0094 1343     		orrs	r3, r2
 463 0096 6360     		str	r3, [r4, #4]
 188:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 464              		.loc 1 188 6 is_stmt 1 view .LVU166
 188:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 465              		.loc 1 188 31 is_stmt 0 view .LVU167
 466 0098 0023     		movs	r3, #0
 467 009a 2360     		str	r3, [r4]
 468 009c 02E0     		b	.L19
 469              	.LVL40:
 470              	.L29:
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 471              		.loc 1 81 7 view .LVU168
 472 009e 0026     		movs	r6, #0
 473 00a0 00E0     		b	.L19
 474              	.L30:
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 475              		.loc 1 81 7 view .LVU169
 476 00a2 0026     		movs	r6, #0
 477              	.LVL41:
 478              	.L19:
 202:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 479              		.loc 1 202 28 is_stmt 1 view .LVU170
 205:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
ARM GAS  /tmp/ccupTZ7i.s 			page 19


 480              		.loc 1 205 39 view .LVU171
 207:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 481              		.loc 1 207 2 view .LVU172
 207:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 482              		.loc 1 207 11 is_stmt 0 view .LVU173
 483 00a4 FFF7FEFF 		bl	xTaskResumeAll
 484              	.LVL42:
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 485              		.loc 1 223 2 is_stmt 1 view .LVU174
 486 00a8 7307     		lsls	r3, r6, #29
 487 00aa 05D0     		beq	.L17
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 488              		.loc 1 223 2 discriminator 1 view .LVU175
 489              		.syntax divided
 490              	@ 223 "micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c" 1
 491 00ac 72B6     		 cpsid i 
 492              	@ 0 "" 2
 493              		.thumb
 494              		.syntax unified
 495              	.L28:
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 496              		.loc 1 223 2 discriminator 5 view .LVU176
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 497              		.loc 1 223 2 discriminator 5 view .LVU177
 223:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return pvReturn;
 498              		.loc 1 223 2 discriminator 5 view .LVU178
 499 00ae FEE7     		b	.L28
 500              	.LVL43:
 501              	.L31:
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 502              		.loc 1 81 7 is_stmt 0 view .LVU179
 503 00b0 0026     		movs	r6, #0
 504 00b2 F7E7     		b	.L19
 505              	.LVL44:
 506              	.L33:
  81:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 507              		.loc 1 81 7 view .LVU180
 508 00b4 0026     		movs	r6, #0
 509 00b6 F5E7     		b	.L19
 510              	.LVL45:
 511              	.L17:
 225:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 512              		.loc 1 225 1 view .LVU181
 513 00b8 3000     		movs	r0, r6
 514              		@ sp needed
 515              	.LVL46:
 516              	.LVL47:
 225:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 517              		.loc 1 225 1 view .LVU182
 518 00ba 70BD     		pop	{r4, r5, r6, pc}
 519              	.L36:
 520              		.align	2
 521              	.L35:
 522 00bc 00000000 		.word	.LANCHOR1
 523 00c0 00000000 		.word	.LANCHOR4
 524 00c4 00000000 		.word	.LANCHOR3
 525 00c8 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccupTZ7i.s 			page 20


 526 00cc 00000000 		.word	.LANCHOR2
 527              		.cfi_endproc
 528              	.LFE0:
 530              		.section	.text.vPortFreeMicroROS,"ax",%progbits
 531              		.align	1
 532              		.global	vPortFreeMicroROS
 533              		.syntax unified
 534              		.code	16
 535              		.thumb_func
 536              		.fpu softvfp
 538              	vPortFreeMicroROS:
 539              	.LVL48:
 540              	.LFB1:
 229:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** uint8_t *puc = ( uint8_t * ) pv;
 541              		.loc 1 229 1 is_stmt 1 view -0
 542              		.cfi_startproc
 543              		@ args = 0, pretend = 0, frame = 0
 544              		@ frame_needed = 0, uses_anonymous_args = 0
 229:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** uint8_t *puc = ( uint8_t * ) pv;
 545              		.loc 1 229 1 is_stmt 0 view .LVU184
 546 0000 70B5     		push	{r4, r5, r6, lr}
 547              	.LCFI2:
 548              		.cfi_def_cfa_offset 16
 549              		.cfi_offset 4, -16
 550              		.cfi_offset 5, -12
 551              		.cfi_offset 6, -8
 552              		.cfi_offset 14, -4
 230:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** BlockLink_t *pxLink;
 553              		.loc 1 230 1 is_stmt 1 view .LVU185
 554              	.LVL49:
 231:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 555              		.loc 1 231 1 view .LVU186
 233:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 556              		.loc 1 233 2 view .LVU187
 233:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 557              		.loc 1 233 4 is_stmt 0 view .LVU188
 558 0002 0028     		cmp	r0, #0
 559 0004 20D0     		beq	.L37
 237:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 560              		.loc 1 237 3 is_stmt 1 view .LVU189
 237:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 561              		.loc 1 237 7 is_stmt 0 view .LVU190
 562 0006 0500     		movs	r5, r0
 563 0008 083D     		subs	r5, r5, #8
 564              	.LVL50:
 240:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 565              		.loc 1 240 3 is_stmt 1 view .LVU191
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 566              		.loc 1 243 3 view .LVU192
 567 000a 6B68     		ldr	r3, [r5, #4]
 568 000c 0F4A     		ldr	r2, .L43
 569 000e 1268     		ldr	r2, [r2]
 570 0010 1A42     		tst	r2, r3
 571 0012 01D1     		bne	.L39
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 572              		.loc 1 243 3 discriminator 1 view .LVU193
 573              		.syntax divided
ARM GAS  /tmp/ccupTZ7i.s 			page 21


 574              	@ 243 "micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c" 1
 575 0014 72B6     		 cpsid i 
 576              	@ 0 "" 2
 577              		.thumb
 578              		.syntax unified
 579              	.L40:
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 580              		.loc 1 243 3 discriminator 1 view .LVU194
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 581              		.loc 1 243 3 discriminator 1 view .LVU195
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 582              		.loc 1 243 3 discriminator 1 view .LVU196
 583 0016 FEE7     		b	.L40
 584              	.L39:
 243:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		configASSERT( pxLink->pxNextFreeBlock == NULL );
 585              		.loc 1 243 67 discriminator 2 view .LVU197
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 586              		.loc 1 244 3 discriminator 2 view .LVU198
 587 0018 0100     		movs	r1, r0
 588 001a 0839     		subs	r1, r1, #8
 589 001c 0968     		ldr	r1, [r1]
 590 001e 0029     		cmp	r1, #0
 591 0020 01D0     		beq	.L41
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 592              		.loc 1 244 3 discriminator 1 view .LVU199
 593              		.syntax divided
 594              	@ 244 "micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c" 1
 595 0022 72B6     		 cpsid i 
 596              	@ 0 "" 2
 597              		.thumb
 598              		.syntax unified
 599              	.L42:
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 600              		.loc 1 244 3 discriminator 2 view .LVU200
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 601              		.loc 1 244 3 discriminator 2 view .LVU201
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 602              		.loc 1 244 3 discriminator 2 view .LVU202
 603 0024 FEE7     		b	.L42
 604              	.L41:
 244:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 605              		.loc 1 244 50 view .LVU203
 246:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 606              		.loc 1 246 3 view .LVU204
 248:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			{
 607              		.loc 1 248 4 view .LVU205
 252:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 608              		.loc 1 252 5 view .LVU206
 252:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 609              		.loc 1 252 24 is_stmt 0 view .LVU207
 610 0026 0838     		subs	r0, r0, #8
 611              	.LVL51:
 252:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 612              		.loc 1 252 24 view .LVU208
 613 0028 0400     		movs	r4, r0
 614 002a 9343     		bics	r3, r2
 615 002c 4360     		str	r3, [r0, #4]
ARM GAS  /tmp/ccupTZ7i.s 			page 22


 254:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				{
 616              		.loc 1 254 5 is_stmt 1 view .LVU209
 617 002e FFF7FEFF 		bl	vTaskSuspendAll
 618              	.LVL52:
 257:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					traceFREE( pv, pxLink->xBlockSize );
 619              		.loc 1 257 6 view .LVU210
 257:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					traceFREE( pv, pxLink->xBlockSize );
 620              		.loc 1 257 35 is_stmt 0 view .LVU211
 621 0032 6368     		ldr	r3, [r4, #4]
 257:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					traceFREE( pv, pxLink->xBlockSize );
 622              		.loc 1 257 26 view .LVU212
 623 0034 064A     		ldr	r2, .L43+4
 624 0036 1168     		ldr	r1, [r2]
 625 0038 8C46     		mov	ip, r1
 626 003a 6344     		add	r3, r3, ip
 627 003c 1360     		str	r3, [r2]
 258:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 					prvInsertBlockIntoFreeList( ( ( BlockLink_t * ) pxLink ) );
 628              		.loc 1 258 41 is_stmt 1 view .LVU213
 259:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 				}
 629              		.loc 1 259 6 view .LVU214
 630 003e 2800     		movs	r0, r5
 631 0040 FFF7FEFF 		bl	prvInsertBlockIntoFreeList
 632              	.LVL53:
 261:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 633              		.loc 1 261 5 view .LVU215
 261:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 			}
 634              		.loc 1 261 14 is_stmt 0 view .LVU216
 635 0044 FFF7FEFF 		bl	xTaskResumeAll
 636              	.LVL54:
 270:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		}
 637              		.loc 1 270 28 is_stmt 1 view .LVU217
 638              	.L37:
 273:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 639              		.loc 1 273 1 is_stmt 0 view .LVU218
 640              		@ sp needed
 641 0048 70BD     		pop	{r4, r5, r6, pc}
 642              	.L44:
 643 004a C046     		.align	2
 644              	.L43:
 645 004c 00000000 		.word	.LANCHOR4
 646 0050 00000000 		.word	.LANCHOR3
 647              		.cfi_endproc
 648              	.LFE1:
 650              		.section	.text.getBlockSize,"ax",%progbits
 651              		.align	1
 652              		.global	getBlockSize
 653              		.syntax unified
 654              		.code	16
 655              		.thumb_func
 656              		.fpu softvfp
 658              	getBlockSize:
 659              	.LVL55:
 660              	.LFB2:
 278:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 661              		.loc 1 278 1 is_stmt 1 view -0
 662              		.cfi_startproc
 663              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccupTZ7i.s 			page 23


 664              		@ frame_needed = 0, uses_anonymous_args = 0
 665              		@ link register save eliminated.
 280:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	BlockLink_t *pxLink;
 666              		.loc 1 280 2 view .LVU220
 281:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 667              		.loc 1 281 2 view .LVU221
 283:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	pxLink = ( void * ) puc;
 668              		.loc 1 283 2 view .LVU222
 284:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 669              		.loc 1 284 2 view .LVU223
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 670              		.loc 1 286 2 view .LVU224
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 671              		.loc 1 286 23 is_stmt 0 view .LVU225
 672 0000 0838     		subs	r0, r0, #8
 673              	.LVL56:
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 674              		.loc 1 286 23 view .LVU226
 675 0002 4068     		ldr	r0, [r0, #4]
 676              	.LVL57:
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 677              		.loc 1 286 38 view .LVU227
 678 0004 014B     		ldr	r3, .L46
 679 0006 1B68     		ldr	r3, [r3]
 286:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 680              		.loc 1 286 9 view .LVU228
 681 0008 9843     		bics	r0, r3
 682              	.LVL58:
 288:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 683              		.loc 1 288 2 is_stmt 1 view .LVU229
 289:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 684              		.loc 1 289 1 is_stmt 0 view .LVU230
 685              		@ sp needed
 686 000a 7047     		bx	lr
 687              	.L47:
 688              		.align	2
 689              	.L46:
 690 000c 00000000 		.word	.LANCHOR4
 691              		.cfi_endproc
 692              	.LFE2:
 694              		.section	.text.pvPortReallocMicroROS,"ax",%progbits
 695              		.align	1
 696              		.global	pvPortReallocMicroROS
 697              		.syntax unified
 698              		.code	16
 699              		.thumb_func
 700              		.fpu softvfp
 702              	pvPortReallocMicroROS:
 703              	.LVL59:
 704              	.LFB3:
 293:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 705              		.loc 1 293 1 is_stmt 1 view -0
 706              		.cfi_startproc
 707              		@ args = 0, pretend = 0, frame = 0
 708              		@ frame_needed = 0, uses_anonymous_args = 0
 293:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 709              		.loc 1 293 1 is_stmt 0 view .LVU232
ARM GAS  /tmp/ccupTZ7i.s 			page 24


 710 0000 70B5     		push	{r4, r5, r6, lr}
 711              	.LCFI3:
 712              		.cfi_def_cfa_offset 16
 713              		.cfi_offset 4, -16
 714              		.cfi_offset 5, -12
 715              		.cfi_offset 6, -8
 716              		.cfi_offset 14, -4
 717 0002 0600     		movs	r6, r0
 718 0004 0D00     		movs	r5, r1
 294:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 719              		.loc 1 294 2 is_stmt 1 view .LVU233
 720 0006 FFF7FEFF 		bl	vTaskSuspendAll
 721              	.LVL60:
 296:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if (newmem != NULL && pv != NULL)
 722              		.loc 1 296 2 view .LVU234
 296:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	if (newmem != NULL && pv != NULL)
 723              		.loc 1 296 18 is_stmt 0 view .LVU235
 724 000a 2800     		movs	r0, r5
 725 000c FFF7FEFF 		bl	pvPortMallocMicroROS
 726              	.LVL61:
 727 0010 041E     		subs	r4, r0, #0
 728              	.LVL62:
 297:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 729              		.loc 1 297 2 is_stmt 1 view .LVU236
 297:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 730              		.loc 1 297 5 is_stmt 0 view .LVU237
 731 0012 10D0     		beq	.L49
 297:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	{
 732              		.loc 1 297 21 discriminator 1 view .LVU238
 733 0014 002E     		cmp	r6, #0
 734 0016 0ED0     		beq	.L49
 735              	.LBB2:
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 736              		.loc 1 299 3 is_stmt 1 view .LVU239
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 737              		.loc 1 299 18 is_stmt 0 view .LVU240
 738 0018 3000     		movs	r0, r6
 739              	.LVL63:
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 740              		.loc 1 299 18 view .LVU241
 741 001a FFF7FEFF 		bl	getBlockSize
 742              	.LVL64:
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 743              		.loc 1 299 10 view .LVU242
 744 001e 0838     		subs	r0, r0, #8
 745              	.LVL65:
 300:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 746              		.loc 1 300 3 is_stmt 1 view .LVU243
 300:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		{
 747              		.loc 1 300 6 is_stmt 0 view .LVU244
 748 0020 8542     		cmp	r5, r0
 749 0022 00D3     		bcc	.L50
 299:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 		if (xWantedSize < count)
 750              		.loc 1 299 10 view .LVU245
 751 0024 0500     		movs	r5, r0
 752              	.LVL66:
 753              	.L50:
ARM GAS  /tmp/ccupTZ7i.s 			page 25


 304:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 754              		.loc 1 304 3 is_stmt 1 view .LVU246
 755 0026 2A00     		movs	r2, r5
 756 0028 3100     		movs	r1, r6
 757 002a 2000     		movs	r0, r4
 758 002c FFF7FEFF 		bl	memcpy
 759              	.LVL67:
 306:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 760              		.loc 1 306 3 view .LVU247
 761 0030 3000     		movs	r0, r6
 762 0032 FFF7FEFF 		bl	vPortFreeMicroROS
 763              	.LVL68:
 764              	.L49:
 306:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	}
 765              		.loc 1 306 3 is_stmt 0 view .LVU248
 766              	.LBE2:
 309:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 767              		.loc 1 309 2 is_stmt 1 view .LVU249
 309:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 768              		.loc 1 309 11 is_stmt 0 view .LVU250
 769 0036 FFF7FEFF 		bl	xTaskResumeAll
 770              	.LVL69:
 311:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 771              		.loc 1 311 2 is_stmt 1 view .LVU251
 312:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 772              		.loc 1 312 1 is_stmt 0 view .LVU252
 773 003a 2000     		movs	r0, r4
 774              		@ sp needed
 775              	.LVL70:
 776              	.LVL71:
 312:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 777              		.loc 1 312 1 view .LVU253
 778 003c 70BD     		pop	{r4, r5, r6, pc}
 779              		.cfi_endproc
 780              	.LFE3:
 782              		.section	.text.pvPortCallocMicroROS,"ax",%progbits
 783              		.align	1
 784              		.global	pvPortCallocMicroROS
 785              		.syntax unified
 786              		.code	16
 787              		.thumb_func
 788              		.fpu softvfp
 790              	pvPortCallocMicroROS:
 791              	.LVL72:
 792              	.LFB4:
 316:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 793              		.loc 1 316 1 is_stmt 1 view -0
 794              		.cfi_startproc
 795              		@ args = 0, pretend = 0, frame = 0
 796              		@ frame_needed = 0, uses_anonymous_args = 0
 316:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	vTaskSuspendAll();
 797              		.loc 1 316 1 is_stmt 0 view .LVU255
 798 0000 70B5     		push	{r4, r5, r6, lr}
 799              	.LCFI4:
 800              		.cfi_def_cfa_offset 16
 801              		.cfi_offset 4, -16
 802              		.cfi_offset 5, -12
ARM GAS  /tmp/ccupTZ7i.s 			page 26


 803              		.cfi_offset 6, -8
 804              		.cfi_offset 14, -4
 805 0002 0400     		movs	r4, r0
 806 0004 0D00     		movs	r5, r1
 317:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	size_t count = xWantedSize*num;
 807              		.loc 1 317 2 is_stmt 1 view .LVU256
 808 0006 FFF7FEFF 		bl	vTaskSuspendAll
 809              	.LVL73:
 318:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 810              		.loc 1 318 2 view .LVU257
 318:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 811              		.loc 1 318 9 is_stmt 0 view .LVU258
 812 000a 6C43     		muls	r4, r5
 813              	.LVL74:
 320:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	char *in_dest = (char*)mem;
 814              		.loc 1 320 2 is_stmt 1 view .LVU259
 320:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	char *in_dest = (char*)mem;
 815              		.loc 1 320 15 is_stmt 0 view .LVU260
 816 000c 2000     		movs	r0, r4
 817 000e FFF7FEFF 		bl	pvPortMallocMicroROS
 818              	.LVL75:
 819 0012 0500     		movs	r5, r0
 820              	.LVL76:
 321:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 821              		.loc 1 321 4 is_stmt 1 view .LVU261
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 822              		.loc 1 323 4 view .LVU262
 321:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 823              		.loc 1 321 10 is_stmt 0 view .LVU263
 824 0014 0300     		movs	r3, r0
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 825              		.loc 1 323 9 view .LVU264
 826 0016 03E0     		b	.L52
 827              	.LVL77:
 828              	.L53:
 324:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 829              		.loc 1 324 6 is_stmt 1 view .LVU265
 324:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 830              		.loc 1 324 17 is_stmt 0 view .LVU266
 831 0018 0021     		movs	r1, #0
 832 001a 1970     		strb	r1, [r3]
 324:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 
 833              		.loc 1 324 14 view .LVU267
 834 001c 0133     		adds	r3, r3, #1
 835              	.LVL78:
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 836              		.loc 1 323 15 view .LVU268
 837 001e 1400     		movs	r4, r2
 838              	.LVL79:
 839              	.L52:
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 840              		.loc 1 323 9 is_stmt 1 view .LVU269
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
 841              		.loc 1 323 15 is_stmt 0 view .LVU270
 842 0020 621E     		subs	r2, r4, #1
 843              	.LVL80:
 323:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****     	*in_dest++ = 0;
ARM GAS  /tmp/ccupTZ7i.s 			page 27


 844              		.loc 1 323 9 view .LVU271
 845 0022 002C     		cmp	r4, #0
 846 0024 F8D1     		bne	.L53
 326:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	return mem;
 847              		.loc 1 326 2 is_stmt 1 view .LVU272
 326:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c ****   	return mem;
 848              		.loc 1 326 11 is_stmt 0 view .LVU273
 849 0026 FFF7FEFF 		bl	xTaskResumeAll
 850              	.LVL81:
 327:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 851              		.loc 1 327 4 is_stmt 1 view .LVU274
 328:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 852              		.loc 1 328 1 is_stmt 0 view .LVU275
 853 002a 2800     		movs	r0, r5
 854              		@ sp needed
 855              	.LVL82:
 856              	.LVL83:
 328:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 857              		.loc 1 328 1 view .LVU276
 858 002c 70BD     		pop	{r4, r5, r6, pc}
 859              		.cfi_endproc
 860              	.LFE4:
 862              		.section	.text.xPortGetFreeHeapSizeMicroROS,"ax",%progbits
 863              		.align	1
 864              		.global	xPortGetFreeHeapSizeMicroROS
 865              		.syntax unified
 866              		.code	16
 867              		.thumb_func
 868              		.fpu softvfp
 870              	xPortGetFreeHeapSizeMicroROS:
 871              	.LFB5:
 332:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return xFreeBytesRemaining;
 872              		.loc 1 332 1 is_stmt 1 view -0
 873              		.cfi_startproc
 874              		@ args = 0, pretend = 0, frame = 0
 875              		@ frame_needed = 0, uses_anonymous_args = 0
 876              		@ link register save eliminated.
 333:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 877              		.loc 1 333 2 view .LVU278
 333:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 878              		.loc 1 333 9 is_stmt 0 view .LVU279
 879 0000 014B     		ldr	r3, .L55
 880 0002 1868     		ldr	r0, [r3]
 334:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 881              		.loc 1 334 1 view .LVU280
 882              		@ sp needed
 883 0004 7047     		bx	lr
 884              	.L56:
 885 0006 C046     		.align	2
 886              	.L55:
 887 0008 00000000 		.word	.LANCHOR3
 888              		.cfi_endproc
 889              	.LFE5:
 891              		.section	.text.xPortGetMinimumEverFreeHeapSizeMicroROS,"ax",%progbits
 892              		.align	1
 893              		.global	xPortGetMinimumEverFreeHeapSizeMicroROS
 894              		.syntax unified
ARM GAS  /tmp/ccupTZ7i.s 			page 28


 895              		.code	16
 896              		.thumb_func
 897              		.fpu softvfp
 899              	xPortGetMinimumEverFreeHeapSizeMicroROS:
 900              	.LFB6:
 338:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	return xMinimumEverFreeBytesRemaining;
 901              		.loc 1 338 1 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              		@ link register save eliminated.
 339:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 906              		.loc 1 339 2 view .LVU282
 339:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** }
 907              		.loc 1 339 9 is_stmt 0 view .LVU283
 908 0000 014B     		ldr	r3, .L58
 909 0002 1868     		ldr	r0, [r3]
 340:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 910              		.loc 1 340 1 view .LVU284
 911              		@ sp needed
 912 0004 7047     		bx	lr
 913              	.L59:
 914 0006 C046     		.align	2
 915              	.L58:
 916 0008 00000000 		.word	.LANCHOR2
 917              		.cfi_endproc
 918              	.LFE6:
 920              		.section	.text.vPortInitialiseBlocksMicroROS,"ax",%progbits
 921              		.align	1
 922              		.global	vPortInitialiseBlocksMicroROS
 923              		.syntax unified
 924              		.code	16
 925              		.thumb_func
 926              		.fpu softvfp
 928              	vPortInitialiseBlocksMicroROS:
 929              	.LFB7:
 344:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** 	/* This just exists to keep the linker quiet. */
 930              		.loc 1 344 1 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934              		@ link register save eliminated.
 346:micro_ros_stm32cubemx_utils/extra_sources/custom_memory_manager.c **** /*-----------------------------------------------------------*/
 935              		.loc 1 346 1 view .LVU286
 936              		@ sp needed
 937 0000 7047     		bx	lr
 938              		.cfi_endproc
 939              	.LFE7:
 941              		.section	.bss.pxEnd,"aw",%nobits
 942              		.align	2
 943              		.set	.LANCHOR1,. + 0
 946              	pxEnd:
 947 0000 00000000 		.space	4
 948              		.section	.bss.ucHeap,"aw",%nobits
 949              		.align	2
 952              	ucHeap:
 953 0000 00000000 		.space	5000
ARM GAS  /tmp/ccupTZ7i.s 			page 29


 953      00000000 
 953      00000000 
 953      00000000 
 953      00000000 
 954              		.section	.bss.xBlockAllocatedBit,"aw",%nobits
 955              		.align	2
 956              		.set	.LANCHOR4,. + 0
 959              	xBlockAllocatedBit:
 960 0000 00000000 		.space	4
 961              		.section	.bss.xFreeBytesRemaining,"aw",%nobits
 962              		.align	2
 963              		.set	.LANCHOR3,. + 0
 966              	xFreeBytesRemaining:
 967 0000 00000000 		.space	4
 968              		.section	.bss.xMinimumEverFreeBytesRemaining,"aw",%nobits
 969              		.align	2
 970              		.set	.LANCHOR2,. + 0
 973              	xMinimumEverFreeBytesRemaining:
 974 0000 00000000 		.space	4
 975              		.section	.bss.xStart,"aw",%nobits
 976              		.align	2
 977              		.set	.LANCHOR0,. + 0
 980              	xStart:
 981 0000 00000000 		.space	8
 981      00000000 
 982              		.text
 983              	.Letext0:
 984              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 985              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 986              		.file 4 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 987              		.file 5 "<built-in>"
ARM GAS  /tmp/ccupTZ7i.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 custom_memory_manager.c
     /tmp/ccupTZ7i.s:16     .text.prvHeapInit:0000000000000000 $t
     /tmp/ccupTZ7i.s:23     .text.prvHeapInit:0000000000000000 prvHeapInit
     /tmp/ccupTZ7i.s:134    .text.prvHeapInit:0000000000000048 $d
     /tmp/ccupTZ7i.s:952    .bss.ucHeap:0000000000000000 ucHeap
     /tmp/ccupTZ7i.s:145    .text.prvInsertBlockIntoFreeList:0000000000000000 $t
     /tmp/ccupTZ7i.s:151    .text.prvInsertBlockIntoFreeList:0000000000000000 prvInsertBlockIntoFreeList
     /tmp/ccupTZ7i.s:262    .text.prvInsertBlockIntoFreeList:000000000000004c $d
     /tmp/ccupTZ7i.s:268    .text.pvPortMallocMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:275    .text.pvPortMallocMicroROS:0000000000000000 pvPortMallocMicroROS
     /tmp/ccupTZ7i.s:522    .text.pvPortMallocMicroROS:00000000000000bc $d
     /tmp/ccupTZ7i.s:531    .text.vPortFreeMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:538    .text.vPortFreeMicroROS:0000000000000000 vPortFreeMicroROS
     /tmp/ccupTZ7i.s:645    .text.vPortFreeMicroROS:000000000000004c $d
     /tmp/ccupTZ7i.s:651    .text.getBlockSize:0000000000000000 $t
     /tmp/ccupTZ7i.s:658    .text.getBlockSize:0000000000000000 getBlockSize
     /tmp/ccupTZ7i.s:690    .text.getBlockSize:000000000000000c $d
     /tmp/ccupTZ7i.s:695    .text.pvPortReallocMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:702    .text.pvPortReallocMicroROS:0000000000000000 pvPortReallocMicroROS
     /tmp/ccupTZ7i.s:783    .text.pvPortCallocMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:790    .text.pvPortCallocMicroROS:0000000000000000 pvPortCallocMicroROS
     /tmp/ccupTZ7i.s:863    .text.xPortGetFreeHeapSizeMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:870    .text.xPortGetFreeHeapSizeMicroROS:0000000000000000 xPortGetFreeHeapSizeMicroROS
     /tmp/ccupTZ7i.s:887    .text.xPortGetFreeHeapSizeMicroROS:0000000000000008 $d
     /tmp/ccupTZ7i.s:892    .text.xPortGetMinimumEverFreeHeapSizeMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:899    .text.xPortGetMinimumEverFreeHeapSizeMicroROS:0000000000000000 xPortGetMinimumEverFreeHeapSizeMicroROS
     /tmp/ccupTZ7i.s:916    .text.xPortGetMinimumEverFreeHeapSizeMicroROS:0000000000000008 $d
     /tmp/ccupTZ7i.s:921    .text.vPortInitialiseBlocksMicroROS:0000000000000000 $t
     /tmp/ccupTZ7i.s:928    .text.vPortInitialiseBlocksMicroROS:0000000000000000 vPortInitialiseBlocksMicroROS
     /tmp/ccupTZ7i.s:942    .bss.pxEnd:0000000000000000 $d
     /tmp/ccupTZ7i.s:946    .bss.pxEnd:0000000000000000 pxEnd
     /tmp/ccupTZ7i.s:949    .bss.ucHeap:0000000000000000 $d
     /tmp/ccupTZ7i.s:955    .bss.xBlockAllocatedBit:0000000000000000 $d
     /tmp/ccupTZ7i.s:959    .bss.xBlockAllocatedBit:0000000000000000 xBlockAllocatedBit
     /tmp/ccupTZ7i.s:962    .bss.xFreeBytesRemaining:0000000000000000 $d
     /tmp/ccupTZ7i.s:966    .bss.xFreeBytesRemaining:0000000000000000 xFreeBytesRemaining
     /tmp/ccupTZ7i.s:969    .bss.xMinimumEverFreeBytesRemaining:0000000000000000 $d
     /tmp/ccupTZ7i.s:973    .bss.xMinimumEverFreeBytesRemaining:0000000000000000 xMinimumEverFreeBytesRemaining
     /tmp/ccupTZ7i.s:976    .bss.xStart:0000000000000000 $d
     /tmp/ccupTZ7i.s:980    .bss.xStart:0000000000000000 xStart

UNDEFINED SYMBOLS
vTaskSuspendAll
xTaskResumeAll
memcpy
