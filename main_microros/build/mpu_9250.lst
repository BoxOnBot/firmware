ARM GAS  /tmp/ccW4Gb28.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"mpu_9250.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MPU_9250_Init,"ax",%progbits
  16              		.align	1
  17              		.global	MPU_9250_Init
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	MPU_9250_Init:
  25              	.LFB65:
  26              		.file 1 "Core/Src/mpu_9250.c"
   1:Core/Src/mpu_9250.c **** #include "mpu_9250.h"
   2:Core/Src/mpu_9250.c **** #include "i2c.h"
   3:Core/Src/mpu_9250.c **** 
   4:Core/Src/mpu_9250.c **** void MPU_9250_Init(void){
  27              		.loc 1 4 25 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 28
  34              		.cfi_offset 4, -28
  35              		.cfi_offset 5, -24
  36              		.cfi_offset 6, -20
  37              		.cfi_offset 7, -16
  38              		.cfi_offset 8, -12
  39              		.cfi_offset 9, -8
  40              		.cfi_offset 14, -4
  41 0004 87B0     		sub	sp, sp, #28
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 56
   5:Core/Src/mpu_9250.c **** 	uint8_t tmp = 0;
  44              		.loc 1 5 2 view .LVU1
  45              		.loc 1 5 10 is_stmt 0 view .LVU2
  46 0006 4FF00008 		mov	r8, #0
  47 000a 8DF81780 		strb	r8, [sp, #23]
   6:Core/Src/mpu_9250.c **** 	uint8_t buffer[3];
  48              		.loc 1 6 2 is_stmt 1 view .LVU3
   7:Core/Src/mpu_9250.c **** 
   8:Core/Src/mpu_9250.c **** 	// user_ctrl, signal reset
   9:Core/Src/mpu_9250.c **** 	tmp = 0x01;
  49              		.loc 1 9 2 view .LVU4
ARM GAS  /tmp/ccW4Gb28.s 			page 2


  50              		.loc 1 9 6 is_stmt 0 view .LVU5
  51 000e 0124     		movs	r4, #1
  52 0010 8DF81740 		strb	r4, [sp, #23]
  10:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x6A, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
  53              		.loc 1 10 2 is_stmt 1 view .LVU6
  54 0014 844D     		ldr	r5, .L15
  55 0016 4FF47A77 		mov	r7, #1000
  56 001a 0297     		str	r7, [sp, #8]
  57 001c 0194     		str	r4, [sp, #4]
  58 001e 0DF11706 		add	r6, sp, #23
  59 0022 0096     		str	r6, [sp]
  60 0024 2346     		mov	r3, r4
  61 0026 6A22     		movs	r2, #106
  62 0028 D021     		movs	r1, #208
  63 002a 2846     		mov	r0, r5
  64 002c FFF7FEFF 		bl	HAL_I2C_Mem_Write
  65              	.LVL0:
  11:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
  66              		.loc 1 11 2 view .LVU7
  67 0030 0520     		movs	r0, #5
  68 0032 FFF7FEFF 		bl	HAL_Delay
  69              	.LVL1:
  12:Core/Src/mpu_9250.c **** 
  13:Core/Src/mpu_9250.c **** 	// WHO_AM_I
  14:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x75, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
  70              		.loc 1 14 2 view .LVU8
  71 0036 0297     		str	r7, [sp, #8]
  72 0038 0194     		str	r4, [sp, #4]
  73 003a 0096     		str	r6, [sp]
  74 003c 2346     		mov	r3, r4
  75 003e 7522     		movs	r2, #117
  76 0040 D021     		movs	r1, #208
  77 0042 2846     		mov	r0, r5
  78 0044 FFF7FEFF 		bl	HAL_I2C_Mem_Read
  79              	.LVL2:
  15:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
  80              		.loc 1 15 2 view .LVU9
  81 0048 0520     		movs	r0, #5
  82 004a FFF7FEFF 		bl	HAL_Delay
  83              	.LVL3:
  16:Core/Src/mpu_9250.c **** 
  17:Core/Src/mpu_9250.c **** 	// pwr_mgmt_1, clock source config
  18:Core/Src/mpu_9250.c **** 	tmp = 0x01;
  84              		.loc 1 18 2 view .LVU10
  85              		.loc 1 18 6 is_stmt 0 view .LVU11
  86 004e 8DF81740 		strb	r4, [sp, #23]
  19:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x6B, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
  87              		.loc 1 19 2 is_stmt 1 view .LVU12
  88 0052 0297     		str	r7, [sp, #8]
  89 0054 0194     		str	r4, [sp, #4]
  90 0056 0096     		str	r6, [sp]
  91 0058 2346     		mov	r3, r4
  92 005a 6B22     		movs	r2, #107
  93 005c D021     		movs	r1, #208
  94 005e 2846     		mov	r0, r5
  95 0060 FFF7FEFF 		bl	HAL_I2C_Mem_Write
  96              	.LVL4:
ARM GAS  /tmp/ccW4Gb28.s 			page 3


  20:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
  97              		.loc 1 20 2 view .LVU13
  98 0064 0520     		movs	r0, #5
  99 0066 FFF7FEFF 		bl	HAL_Delay
 100              	.LVL5:
  21:Core/Src/mpu_9250.c **** 
  22:Core/Src/mpu_9250.c **** 	// config
  23:Core/Src/mpu_9250.c **** 	tmp = 0x00;
 101              		.loc 1 23 2 view .LVU14
 102              		.loc 1 23 6 is_stmt 0 view .LVU15
 103 006a 8DF81780 		strb	r8, [sp, #23]
  24:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1A, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 104              		.loc 1 24 2 is_stmt 1 view .LVU16
 105 006e 0297     		str	r7, [sp, #8]
 106 0070 0194     		str	r4, [sp, #4]
 107 0072 0096     		str	r6, [sp]
 108 0074 2346     		mov	r3, r4
 109 0076 1A22     		movs	r2, #26
 110 0078 D021     		movs	r1, #208
 111 007a 2846     		mov	r0, r5
 112 007c FFF7FEFF 		bl	HAL_I2C_Mem_Write
 113              	.LVL6:
  25:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 114              		.loc 1 25 2 view .LVU17
 115 0080 0520     		movs	r0, #5
 116 0082 FFF7FEFF 		bl	HAL_Delay
 117              	.LVL7:
  26:Core/Src/mpu_9250.c **** 
  27:Core/Src/mpu_9250.c **** 	// gyro_config, 500 dps, filter
  28:Core/Src/mpu_9250.c **** 	tmp = 0x08;
 118              		.loc 1 28 2 view .LVU18
 119              		.loc 1 28 6 is_stmt 0 view .LVU19
 120 0086 4FF00809 		mov	r9, #8
 121 008a 8DF81790 		strb	r9, [sp, #23]
  29:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1B, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 122              		.loc 1 29 2 is_stmt 1 view .LVU20
 123 008e 0297     		str	r7, [sp, #8]
 124 0090 0194     		str	r4, [sp, #4]
 125 0092 0096     		str	r6, [sp]
 126 0094 2346     		mov	r3, r4
 127 0096 1B22     		movs	r2, #27
 128 0098 D021     		movs	r1, #208
 129 009a 2846     		mov	r0, r5
 130 009c FFF7FEFF 		bl	HAL_I2C_Mem_Write
 131              	.LVL8:
  30:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 132              		.loc 1 30 2 view .LVU21
 133 00a0 0520     		movs	r0, #5
 134 00a2 FFF7FEFF 		bl	HAL_Delay
 135              	.LVL9:
  31:Core/Src/mpu_9250.c **** 
  32:Core/Src/mpu_9250.c **** 	// accel_config, 2g
  33:Core/Src/mpu_9250.c **** 	tmp = 0x08;
 136              		.loc 1 33 2 view .LVU22
 137              		.loc 1 33 6 is_stmt 0 view .LVU23
 138 00a6 8DF81790 		strb	r9, [sp, #23]
  34:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1C, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
ARM GAS  /tmp/ccW4Gb28.s 			page 4


 139              		.loc 1 34 2 is_stmt 1 view .LVU24
 140 00aa 0297     		str	r7, [sp, #8]
 141 00ac 0194     		str	r4, [sp, #4]
 142 00ae 0096     		str	r6, [sp]
 143 00b0 2346     		mov	r3, r4
 144 00b2 1C22     		movs	r2, #28
 145 00b4 D021     		movs	r1, #208
 146 00b6 2846     		mov	r0, r5
 147 00b8 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 148              	.LVL10:
  35:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 149              		.loc 1 35 2 view .LVU25
 150 00bc 0520     		movs	r0, #5
 151 00be FFF7FEFF 		bl	HAL_Delay
 152              	.LVL11:
  36:Core/Src/mpu_9250.c **** 
  37:Core/Src/mpu_9250.c **** 	// accel_config_2, filter
  38:Core/Src/mpu_9250.c **** 	tmp = 0x08;
 153              		.loc 1 38 2 view .LVU26
 154              		.loc 1 38 6 is_stmt 0 view .LVU27
 155 00c2 8DF81790 		strb	r9, [sp, #23]
  39:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1D, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 156              		.loc 1 39 2 is_stmt 1 view .LVU28
 157 00c6 0297     		str	r7, [sp, #8]
 158 00c8 0194     		str	r4, [sp, #4]
 159 00ca 0096     		str	r6, [sp]
 160 00cc 2346     		mov	r3, r4
 161 00ce 1D22     		movs	r2, #29
 162 00d0 D021     		movs	r1, #208
 163 00d2 2846     		mov	r0, r5
 164 00d4 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 165              	.LVL12:
  40:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 166              		.loc 1 40 2 view .LVU29
 167 00d8 0520     		movs	r0, #5
 168 00da FFF7FEFF 		bl	HAL_Delay
 169              	.LVL13:
  41:Core/Src/mpu_9250.c **** 
  42:Core/Src/mpu_9250.c **** 	// int_pin_cfg, bypass enabled
  43:Core/Src/mpu_9250.c **** 	tmp = 0x02;
 170              		.loc 1 43 2 view .LVU30
 171              		.loc 1 43 6 is_stmt 0 view .LVU31
 172 00de 0223     		movs	r3, #2
 173 00e0 8DF81730 		strb	r3, [sp, #23]
  44:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x37, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 174              		.loc 1 44 2 is_stmt 1 view .LVU32
 175 00e4 0297     		str	r7, [sp, #8]
 176 00e6 0194     		str	r4, [sp, #4]
 177 00e8 0096     		str	r6, [sp]
 178 00ea 2346     		mov	r3, r4
 179 00ec 3722     		movs	r2, #55
 180 00ee D021     		movs	r1, #208
 181 00f0 2846     		mov	r0, r5
 182 00f2 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 183              	.LVL14:
  45:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 184              		.loc 1 45 2 view .LVU33
ARM GAS  /tmp/ccW4Gb28.s 			page 5


 185 00f6 0520     		movs	r0, #5
 186 00f8 FFF7FEFF 		bl	HAL_Delay
 187              	.LVL15:
  46:Core/Src/mpu_9250.c **** 
  47:Core/Src/mpu_9250.c **** 	// pwr_mgmt_2, enable accelerometer and gyroscope
  48:Core/Src/mpu_9250.c **** 	tmp = 0x00;
 188              		.loc 1 48 2 view .LVU34
 189              		.loc 1 48 6 is_stmt 0 view .LVU35
 190 00fc 8DF81780 		strb	r8, [sp, #23]
  49:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x6C, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 191              		.loc 1 49 2 is_stmt 1 view .LVU36
 192 0100 0297     		str	r7, [sp, #8]
 193 0102 0194     		str	r4, [sp, #4]
 194 0104 0096     		str	r6, [sp]
 195 0106 2346     		mov	r3, r4
 196 0108 6C22     		movs	r2, #108
 197 010a D021     		movs	r1, #208
 198 010c 2846     		mov	r0, r5
 199 010e FFF7FEFF 		bl	HAL_I2C_Mem_Write
 200              	.LVL16:
  50:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 201              		.loc 1 50 2 view .LVU37
 202 0112 0520     		movs	r0, #5
 203 0114 FFF7FEFF 		bl	HAL_Delay
 204              	.LVL17:
  51:Core/Src/mpu_9250.c **** 
  52:Core/Src/mpu_9250.c **** 	// magneto cntl2, soft reset
  53:Core/Src/mpu_9250.c **** 	tmp = 0x00;
 205              		.loc 1 53 2 view .LVU38
 206              		.loc 1 53 6 is_stmt 0 view .LVU39
 207 0118 8DF81780 		strb	r8, [sp, #23]
  54:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, AK8963_SLAVE_ADDRESS, 0x0B, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 208              		.loc 1 54 2 is_stmt 1 view .LVU40
 209 011c 0297     		str	r7, [sp, #8]
 210 011e 0194     		str	r4, [sp, #4]
 211 0120 0096     		str	r6, [sp]
 212 0122 2346     		mov	r3, r4
 213 0124 0B22     		movs	r2, #11
 214 0126 1821     		movs	r1, #24
 215 0128 2846     		mov	r0, r5
 216 012a FFF7FEFF 		bl	HAL_I2C_Mem_Write
 217              	.LVL18:
  55:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 218              		.loc 1 55 2 view .LVU41
 219 012e 0520     		movs	r0, #5
 220 0130 FFF7FEFF 		bl	HAL_Delay
 221              	.LVL19:
  56:Core/Src/mpu_9250.c **** 
  57:Core/Src/mpu_9250.c **** 	// magneto cntl1, continuous mode 1, 16 bit output
  58:Core/Src/mpu_9250.c **** 	tmp = 0x12;
 222              		.loc 1 58 2 view .LVU42
 223              		.loc 1 58 6 is_stmt 0 view .LVU43
 224 0134 1223     		movs	r3, #18
 225 0136 8DF81730 		strb	r3, [sp, #23]
  59:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Write(&hi2c1, AK8963_SLAVE_ADDRESS, 0x0A, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 226              		.loc 1 59 2 is_stmt 1 view .LVU44
 227 013a 0297     		str	r7, [sp, #8]
ARM GAS  /tmp/ccW4Gb28.s 			page 6


 228 013c 0194     		str	r4, [sp, #4]
 229 013e 0096     		str	r6, [sp]
 230 0140 2346     		mov	r3, r4
 231 0142 0A22     		movs	r2, #10
 232 0144 1821     		movs	r1, #24
 233 0146 2846     		mov	r0, r5
 234 0148 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 235              	.LVL20:
  60:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 236              		.loc 1 60 2 view .LVU45
 237 014c 0520     		movs	r0, #5
 238 014e FFF7FEFF 		bl	HAL_Delay
 239              	.LVL21:
  61:Core/Src/mpu_9250.c **** 
  62:Core/Src/mpu_9250.c **** 	// magneto sensitivity adjustment
  63:Core/Src/mpu_9250.c **** 	if (mag_sens == 1){
 240              		.loc 1 63 2 view .LVU46
  64:Core/Src/mpu_9250.c **** 		HAL_I2C_Mem_Read(&hi2c1, AK8963_SLAVE_ADDRESS, 0x10, I2C_MEMADD_SIZE_8BIT, buffer, 0x3, 1000);
  65:Core/Src/mpu_9250.c **** 
  66:Core/Src/mpu_9250.c **** 		for (int i = 0; i < 3; i++){
  67:Core/Src/mpu_9250.c **** 			sensAdjMag[i] = (((buffer[i] - 128) * 0.5)/128) + 1;
  68:Core/Src/mpu_9250.c **** 		}
  69:Core/Src/mpu_9250.c **** 	}
  70:Core/Src/mpu_9250.c **** 
  71:Core/Src/mpu_9250.c **** 	// checking accel scale
  72:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1C, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 241              		.loc 1 72 2 view .LVU47
 242 0152 0297     		str	r7, [sp, #8]
 243 0154 0194     		str	r4, [sp, #4]
 244 0156 0096     		str	r6, [sp]
 245 0158 2346     		mov	r3, r4
 246 015a 1C22     		movs	r2, #28
 247 015c D021     		movs	r1, #208
 248 015e 2846     		mov	r0, r5
 249 0160 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 250              	.LVL22:
  73:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 251              		.loc 1 73 2 view .LVU48
 252 0164 0520     		movs	r0, #5
 253 0166 FFF7FEFF 		bl	HAL_Delay
 254              	.LVL23:
  74:Core/Src/mpu_9250.c **** 
  75:Core/Src/mpu_9250.c **** 	// select accel sensitivity for respective scale
  76:Core/Src/mpu_9250.c **** 	switch(tmp & 0x18){
 255              		.loc 1 76 2 view .LVU49
 256              		.loc 1 76 13 is_stmt 0 view .LVU50
 257 016a 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 258              		.loc 1 76 2 view .LVU51
 259 016e 03F01803 		and	r3, r3, #24
 260 0172 182B     		cmp	r3, #24
 261 0174 12D8     		bhi	.L2
 262 0176 DFE803F0 		tbb	[pc, r3]
 263              	.L4:
 264 017a 0D       		.byte	(.L7-.L4)/2
 265 017b 11       		.byte	(.L2-.L4)/2
 266 017c 11       		.byte	(.L2-.L4)/2
 267 017d 11       		.byte	(.L2-.L4)/2
ARM GAS  /tmp/ccW4Gb28.s 			page 7


 268 017e 11       		.byte	(.L2-.L4)/2
 269 017f 11       		.byte	(.L2-.L4)/2
 270 0180 11       		.byte	(.L2-.L4)/2
 271 0181 11       		.byte	(.L2-.L4)/2
 272 0182 36       		.byte	(.L6-.L4)/2
 273 0183 11       		.byte	(.L2-.L4)/2
 274 0184 11       		.byte	(.L2-.L4)/2
 275 0185 11       		.byte	(.L2-.L4)/2
 276 0186 11       		.byte	(.L2-.L4)/2
 277 0187 11       		.byte	(.L2-.L4)/2
 278 0188 11       		.byte	(.L2-.L4)/2
 279 0189 11       		.byte	(.L2-.L4)/2
 280 018a 3B       		.byte	(.L5-.L4)/2
 281 018b 11       		.byte	(.L2-.L4)/2
 282 018c 11       		.byte	(.L2-.L4)/2
 283 018d 11       		.byte	(.L2-.L4)/2
 284 018e 11       		.byte	(.L2-.L4)/2
 285 018f 11       		.byte	(.L2-.L4)/2
 286 0190 11       		.byte	(.L2-.L4)/2
 287 0191 11       		.byte	(.L2-.L4)/2
 288 0192 40       		.byte	(.L3-.L4)/2
 289 0193 00       		.p2align 1
 290              	.L7:
  77:Core/Src/mpu_9250.c **** 	case 0x00:
  78:Core/Src/mpu_9250.c **** 		sensAccel = 16384.0f;
 291              		.loc 1 78 3 is_stmt 1 view .LVU52
 292              		.loc 1 78 13 is_stmt 0 view .LVU53
 293 0194 254B     		ldr	r3, .L15+4
 294 0196 4FF08D42 		mov	r2, #1182793728
 295 019a 1A60     		str	r2, [r3]	@ float
  79:Core/Src/mpu_9250.c **** 		break;
 296              		.loc 1 79 3 is_stmt 1 view .LVU54
 297              	.L2:
  80:Core/Src/mpu_9250.c **** 	case 0x08:
  81:Core/Src/mpu_9250.c **** 		sensAccel = 8192.0f;
  82:Core/Src/mpu_9250.c **** 		break;
  83:Core/Src/mpu_9250.c **** 	case 0x10:
  84:Core/Src/mpu_9250.c **** 		sensAccel = 4096.0f;
  85:Core/Src/mpu_9250.c **** 		break;
  86:Core/Src/mpu_9250.c **** 	case 0x18:
  87:Core/Src/mpu_9250.c **** 		sensAccel = 2048.0f;
  88:Core/Src/mpu_9250.c **** 		break;
  89:Core/Src/mpu_9250.c **** 	}
  90:Core/Src/mpu_9250.c **** 
  91:Core/Src/mpu_9250.c **** 	// checking gyro scale
  92:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x1B, I2C_MEMADD_SIZE_8BIT, &tmp, 0x1, 1000);
 298              		.loc 1 92 2 view .LVU55
 299 019c 4FF47A73 		mov	r3, #1000
 300 01a0 0293     		str	r3, [sp, #8]
 301 01a2 0123     		movs	r3, #1
 302 01a4 0193     		str	r3, [sp, #4]
 303 01a6 0DF11702 		add	r2, sp, #23
 304 01aa 0092     		str	r2, [sp]
 305 01ac 1B22     		movs	r2, #27
 306 01ae D021     		movs	r1, #208
 307 01b0 1D48     		ldr	r0, .L15
 308 01b2 FFF7FEFF 		bl	HAL_I2C_Mem_Read
ARM GAS  /tmp/ccW4Gb28.s 			page 8


 309              	.LVL24:
  93:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 310              		.loc 1 93 2 view .LVU56
 311 01b6 0520     		movs	r0, #5
 312 01b8 FFF7FEFF 		bl	HAL_Delay
 313              	.LVL25:
  94:Core/Src/mpu_9250.c **** 
  95:Core/Src/mpu_9250.c **** 	// select gyro sens
  96:Core/Src/mpu_9250.c **** 	switch(tmp & 0x18){
 314              		.loc 1 96 2 view .LVU57
 315              		.loc 1 96 13 is_stmt 0 view .LVU58
 316 01bc 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 317              		.loc 1 96 2 view .LVU59
 318 01c0 03F01803 		and	r3, r3, #24
 319 01c4 182B     		cmp	r3, #24
 320 01c6 20D8     		bhi	.L1
 321 01c8 DFE803F0 		tbb	[pc, r3]
 322              	.L10:
 323 01cc 1C       		.byte	(.L13-.L10)/2
 324 01cd 1F       		.byte	(.L1-.L10)/2
 325 01ce 1F       		.byte	(.L1-.L10)/2
 326 01cf 1F       		.byte	(.L1-.L10)/2
 327 01d0 1F       		.byte	(.L1-.L10)/2
 328 01d1 1F       		.byte	(.L1-.L10)/2
 329 01d2 1F       		.byte	(.L1-.L10)/2
 330 01d3 1F       		.byte	(.L1-.L10)/2
 331 01d4 22       		.byte	(.L12-.L10)/2
 332 01d5 1F       		.byte	(.L1-.L10)/2
 333 01d6 1F       		.byte	(.L1-.L10)/2
 334 01d7 1F       		.byte	(.L1-.L10)/2
 335 01d8 1F       		.byte	(.L1-.L10)/2
 336 01d9 1F       		.byte	(.L1-.L10)/2
 337 01da 1F       		.byte	(.L1-.L10)/2
 338 01db 1F       		.byte	(.L1-.L10)/2
 339 01dc 26       		.byte	(.L11-.L10)/2
 340 01dd 1F       		.byte	(.L1-.L10)/2
 341 01de 1F       		.byte	(.L1-.L10)/2
 342 01df 1F       		.byte	(.L1-.L10)/2
 343 01e0 1F       		.byte	(.L1-.L10)/2
 344 01e1 1F       		.byte	(.L1-.L10)/2
 345 01e2 1F       		.byte	(.L1-.L10)/2
 346 01e3 1F       		.byte	(.L1-.L10)/2
 347 01e4 2A       		.byte	(.L9-.L10)/2
 348 01e5 00       		.p2align 1
 349              	.L6:
  81:Core/Src/mpu_9250.c **** 		break;
 350              		.loc 1 81 3 is_stmt 1 view .LVU60
  81:Core/Src/mpu_9250.c **** 		break;
 351              		.loc 1 81 13 is_stmt 0 view .LVU61
 352 01e6 114B     		ldr	r3, .L15+4
 353 01e8 4FF08C42 		mov	r2, #1174405120
 354 01ec 1A60     		str	r2, [r3]	@ float
  82:Core/Src/mpu_9250.c **** 	case 0x10:
 355              		.loc 1 82 3 is_stmt 1 view .LVU62
 356 01ee D5E7     		b	.L2
 357              	.L5:
  84:Core/Src/mpu_9250.c **** 		break;
ARM GAS  /tmp/ccW4Gb28.s 			page 9


 358              		.loc 1 84 3 view .LVU63
  84:Core/Src/mpu_9250.c **** 		break;
 359              		.loc 1 84 13 is_stmt 0 view .LVU64
 360 01f0 0E4B     		ldr	r3, .L15+4
 361 01f2 4FF08B42 		mov	r2, #1166016512
 362 01f6 1A60     		str	r2, [r3]	@ float
  85:Core/Src/mpu_9250.c **** 	case 0x18:
 363              		.loc 1 85 3 is_stmt 1 view .LVU65
 364 01f8 D0E7     		b	.L2
 365              	.L3:
  87:Core/Src/mpu_9250.c **** 		break;
 366              		.loc 1 87 3 view .LVU66
  87:Core/Src/mpu_9250.c **** 		break;
 367              		.loc 1 87 13 is_stmt 0 view .LVU67
 368 01fa 0C4B     		ldr	r3, .L15+4
 369 01fc 4FF08A42 		mov	r2, #1157627904
 370 0200 1A60     		str	r2, [r3]	@ float
  88:Core/Src/mpu_9250.c **** 	}
 371              		.loc 1 88 3 is_stmt 1 view .LVU68
 372 0202 CBE7     		b	.L2
 373              	.L13:
  97:Core/Src/mpu_9250.c **** 	case 0x00:
  98:Core/Src/mpu_9250.c **** 		sensGyro = 131.0f;
 374              		.loc 1 98 3 view .LVU69
 375              		.loc 1 98 12 is_stmt 0 view .LVU70
 376 0204 0A4B     		ldr	r3, .L15+8
 377 0206 0B4A     		ldr	r2, .L15+12
 378 0208 1A60     		str	r2, [r3]	@ float
  99:Core/Src/mpu_9250.c **** 		break;
 379              		.loc 1 99 3 is_stmt 1 view .LVU71
 380              	.L1:
 100:Core/Src/mpu_9250.c **** 	case 0x08:
 101:Core/Src/mpu_9250.c **** 		sensGyro = 65.5f;
 102:Core/Src/mpu_9250.c **** 		break;
 103:Core/Src/mpu_9250.c **** 	case 0x10:
 104:Core/Src/mpu_9250.c **** 		sensGyro = 32.8f;
 105:Core/Src/mpu_9250.c **** 		break;
 106:Core/Src/mpu_9250.c **** 	case 0x18:
 107:Core/Src/mpu_9250.c **** 		sensGyro = 16.4f;
 108:Core/Src/mpu_9250.c **** 		break;
 109:Core/Src/mpu_9250.c **** 	}
 110:Core/Src/mpu_9250.c **** }
 381              		.loc 1 110 1 is_stmt 0 view .LVU72
 382 020a 07B0     		add	sp, sp, #28
 383              	.LCFI2:
 384              		.cfi_remember_state
 385              		.cfi_def_cfa_offset 28
 386              		@ sp needed
 387 020c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 388              	.L12:
 389              	.LCFI3:
 390              		.cfi_restore_state
 101:Core/Src/mpu_9250.c **** 		break;
 391              		.loc 1 101 3 is_stmt 1 view .LVU73
 101:Core/Src/mpu_9250.c **** 		break;
 392              		.loc 1 101 12 is_stmt 0 view .LVU74
 393 0210 074B     		ldr	r3, .L15+8
ARM GAS  /tmp/ccW4Gb28.s 			page 10


 394 0212 094A     		ldr	r2, .L15+16
 395 0214 1A60     		str	r2, [r3]	@ float
 102:Core/Src/mpu_9250.c **** 	case 0x10:
 396              		.loc 1 102 3 is_stmt 1 view .LVU75
 397 0216 F8E7     		b	.L1
 398              	.L11:
 104:Core/Src/mpu_9250.c **** 		break;
 399              		.loc 1 104 3 view .LVU76
 104:Core/Src/mpu_9250.c **** 		break;
 400              		.loc 1 104 12 is_stmt 0 view .LVU77
 401 0218 054B     		ldr	r3, .L15+8
 402 021a 084A     		ldr	r2, .L15+20
 403 021c 1A60     		str	r2, [r3]	@ float
 105:Core/Src/mpu_9250.c **** 	case 0x18:
 404              		.loc 1 105 3 is_stmt 1 view .LVU78
 405 021e F4E7     		b	.L1
 406              	.L9:
 107:Core/Src/mpu_9250.c **** 		break;
 407              		.loc 1 107 3 view .LVU79
 107:Core/Src/mpu_9250.c **** 		break;
 408              		.loc 1 107 12 is_stmt 0 view .LVU80
 409 0220 034B     		ldr	r3, .L15+8
 410 0222 074A     		ldr	r2, .L15+24
 411 0224 1A60     		str	r2, [r3]	@ float
 108:Core/Src/mpu_9250.c **** 	}
 412              		.loc 1 108 3 is_stmt 1 view .LVU81
 413              		.loc 1 110 1 is_stmt 0 view .LVU82
 414 0226 F0E7     		b	.L1
 415              	.L16:
 416              		.align	2
 417              	.L15:
 418 0228 00000000 		.word	hi2c1
 419 022c 00000000 		.word	.LANCHOR0
 420 0230 00000000 		.word	.LANCHOR1
 421 0234 00000343 		.word	1124270080
 422 0238 00008342 		.word	1115881472
 423 023c 33330342 		.word	1107505971
 424 0240 33338341 		.word	1099117363
 425              		.cfi_endproc
 426              	.LFE65:
 428              		.global	__aeabi_i2f
 429              		.global	__aeabi_fdiv
 430              		.section	.text.Accel_readXYZ,"ax",%progbits
 431              		.align	1
 432              		.global	Accel_readXYZ
 433              		.syntax unified
 434              		.thumb
 435              		.thumb_func
 436              		.fpu softvfp
 438              	Accel_readXYZ:
 439              	.LVL26:
 440              	.LFB66:
 111:Core/Src/mpu_9250.c **** 
 112:Core/Src/mpu_9250.c **** void Accel_readXYZ(dataHandleIMU* data){
 441              		.loc 1 112 40 is_stmt 1 view -0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccW4Gb28.s 			page 11


 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445              		.loc 1 112 40 is_stmt 0 view .LVU84
 446 0000 30B5     		push	{r4, r5, lr}
 447              	.LCFI4:
 448              		.cfi_def_cfa_offset 12
 449              		.cfi_offset 4, -12
 450              		.cfi_offset 5, -8
 451              		.cfi_offset 14, -4
 452 0002 89B0     		sub	sp, sp, #36
 453              	.LCFI5:
 454              		.cfi_def_cfa_offset 48
 455 0004 0446     		mov	r4, r0
 113:Core/Src/mpu_9250.c **** 	uint8_t buffer[6];
 456              		.loc 1 113 2 is_stmt 1 view .LVU85
 114:Core/Src/mpu_9250.c **** 	int16_t rawData[3];
 457              		.loc 1 114 2 view .LVU86
 115:Core/Src/mpu_9250.c **** 
 116:Core/Src/mpu_9250.c **** 	// read accelerometer values
 117:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x3B, I2C_MEMADD_SIZE_8BIT, buffer, 0x6, 1000);
 458              		.loc 1 117 2 view .LVU87
 459 0006 4FF47A73 		mov	r3, #1000
 460 000a 0293     		str	r3, [sp, #8]
 461 000c 0623     		movs	r3, #6
 462 000e 0193     		str	r3, [sp, #4]
 463 0010 06AB     		add	r3, sp, #24
 464 0012 0093     		str	r3, [sp]
 465 0014 0123     		movs	r3, #1
 466 0016 3B22     		movs	r2, #59
 467 0018 D021     		movs	r1, #208
 468 001a 1B48     		ldr	r0, .L21
 469              	.LVL27:
 470              		.loc 1 117 2 is_stmt 0 view .LVU88
 471 001c FFF7FEFF 		bl	HAL_I2C_Mem_Read
 472              	.LVL28:
 118:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 473              		.loc 1 118 2 is_stmt 1 view .LVU89
 474 0020 0520     		movs	r0, #5
 475 0022 FFF7FEFF 		bl	HAL_Delay
 476              	.LVL29:
 119:Core/Src/mpu_9250.c **** 
 120:Core/Src/mpu_9250.c **** 	// merging data
 121:Core/Src/mpu_9250.c **** 	for (int i = 0; i < 3; i++){
 477              		.loc 1 121 2 view .LVU90
 478              	.LBB2:
 479              		.loc 1 121 7 view .LVU91
 480              		.loc 1 121 11 is_stmt 0 view .LVU92
 481 0026 0021     		movs	r1, #0
 482              		.loc 1 121 2 view .LVU93
 483 0028 0FE0     		b	.L18
 484              	.LVL30:
 485              	.L19:
 122:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 486              		.loc 1 122 3 is_stmt 1 discriminator 3 view .LVU94
 487              		.loc 1 122 35 is_stmt 0 discriminator 3 view .LVU95
 488 002a 4A00     		lsls	r2, r1, #1
 489              		.loc 1 122 33 discriminator 3 view .LVU96
 490 002c 08AB     		add	r3, sp, #32
ARM GAS  /tmp/ccW4Gb28.s 			page 12


 491 002e 03EB4100 		add	r0, r3, r1, lsl #1
 492 0032 10F8083C 		ldrb	r3, [r0, #-8]	@ zero_extendqisi2
 493              		.loc 1 122 39 discriminator 3 view .LVU97
 494 0036 1B02     		lsls	r3, r3, #8
 495              		.loc 1 122 17 discriminator 3 view .LVU98
 496 0038 1BB2     		sxth	r3, r3
 497              		.loc 1 122 53 discriminator 3 view .LVU99
 498 003a 2132     		adds	r2, r2, #33
 499 003c 6A44     		add	r2, sp, r2
 500 003e 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 501              		.loc 1 122 45 discriminator 3 view .LVU100
 502 0042 1343     		orrs	r3, r3, r2
 503              		.loc 1 122 14 discriminator 3 view .LVU101
 504 0044 20F8103C 		strh	r3, [r0, #-16]	@ movhi
 121:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 505              		.loc 1 121 25 is_stmt 1 discriminator 3 view .LVU102
 121:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 506              		.loc 1 121 26 is_stmt 0 discriminator 3 view .LVU103
 507 0048 0131     		adds	r1, r1, #1
 508              	.LVL31:
 509              	.L18:
 121:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 510              		.loc 1 121 18 is_stmt 1 discriminator 1 view .LVU104
 121:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 511              		.loc 1 121 2 is_stmt 0 discriminator 1 view .LVU105
 512 004a 0229     		cmp	r1, #2
 513 004c EDDD     		ble	.L19
 514              	.LBE2:
 123:Core/Src/mpu_9250.c **** 	}
 124:Core/Src/mpu_9250.c **** 
 125:Core/Src/mpu_9250.c **** 	// scaling to appropriate unit
 126:Core/Src/mpu_9250.c **** 	data->ax = (float)(rawData[0] / sensAccel);
 515              		.loc 1 126 2 is_stmt 1 view .LVU106
 516              		.loc 1 126 13 is_stmt 0 view .LVU107
 517 004e 0F4B     		ldr	r3, .L21+4
 518 0050 1D68     		ldr	r5, [r3]	@ float
 519 0052 BDF91000 		ldrsh	r0, [sp, #16]
 520 0056 FFF7FEFF 		bl	__aeabi_i2f
 521              	.LVL32:
 522              		.loc 1 126 13 view .LVU108
 523 005a 2946     		mov	r1, r5
 524 005c FFF7FEFF 		bl	__aeabi_fdiv
 525              	.LVL33:
 526              		.loc 1 126 11 view .LVU109
 527 0060 2060     		str	r0, [r4]	@ float
 127:Core/Src/mpu_9250.c **** 	data->ay = (float)(rawData[1] / sensAccel);
 528              		.loc 1 127 2 is_stmt 1 view .LVU110
 529              		.loc 1 127 13 is_stmt 0 view .LVU111
 530 0062 BDF91200 		ldrsh	r0, [sp, #18]
 531 0066 FFF7FEFF 		bl	__aeabi_i2f
 532              	.LVL34:
 533 006a 2946     		mov	r1, r5
 534 006c FFF7FEFF 		bl	__aeabi_fdiv
 535              	.LVL35:
 536              		.loc 1 127 11 view .LVU112
 537 0070 6060     		str	r0, [r4, #4]	@ float
 128:Core/Src/mpu_9250.c **** 	data->az = (float)(rawData[2] / sensAccel);
ARM GAS  /tmp/ccW4Gb28.s 			page 13


 538              		.loc 1 128 2 is_stmt 1 view .LVU113
 539              		.loc 1 128 13 is_stmt 0 view .LVU114
 540 0072 BDF91400 		ldrsh	r0, [sp, #20]
 541 0076 FFF7FEFF 		bl	__aeabi_i2f
 542              	.LVL36:
 543 007a 2946     		mov	r1, r5
 544 007c FFF7FEFF 		bl	__aeabi_fdiv
 545              	.LVL37:
 546              		.loc 1 128 11 view .LVU115
 547 0080 A060     		str	r0, [r4, #8]	@ float
 129:Core/Src/mpu_9250.c **** }
 548              		.loc 1 129 1 view .LVU116
 549 0082 09B0     		add	sp, sp, #36
 550              	.LCFI6:
 551              		.cfi_def_cfa_offset 12
 552              		@ sp needed
 553 0084 30BD     		pop	{r4, r5, pc}
 554              	.LVL38:
 555              	.L22:
 556              		.loc 1 129 1 view .LVU117
 557 0086 00BF     		.align	2
 558              	.L21:
 559 0088 00000000 		.word	hi2c1
 560 008c 00000000 		.word	.LANCHOR0
 561              		.cfi_endproc
 562              	.LFE66:
 564              		.section	.text.Gyro_readXYZ,"ax",%progbits
 565              		.align	1
 566              		.global	Gyro_readXYZ
 567              		.syntax unified
 568              		.thumb
 569              		.thumb_func
 570              		.fpu softvfp
 572              	Gyro_readXYZ:
 573              	.LVL39:
 574              	.LFB67:
 130:Core/Src/mpu_9250.c **** 
 131:Core/Src/mpu_9250.c **** void Gyro_readXYZ(dataHandleIMU *data){
 575              		.loc 1 131 39 is_stmt 1 view -0
 576              		.cfi_startproc
 577              		@ args = 0, pretend = 0, frame = 16
 578              		@ frame_needed = 0, uses_anonymous_args = 0
 579              		.loc 1 131 39 is_stmt 0 view .LVU119
 580 0000 30B5     		push	{r4, r5, lr}
 581              	.LCFI7:
 582              		.cfi_def_cfa_offset 12
 583              		.cfi_offset 4, -12
 584              		.cfi_offset 5, -8
 585              		.cfi_offset 14, -4
 586 0002 89B0     		sub	sp, sp, #36
 587              	.LCFI8:
 588              		.cfi_def_cfa_offset 48
 589 0004 0446     		mov	r4, r0
 132:Core/Src/mpu_9250.c **** 	uint8_t buffer[6];
 590              		.loc 1 132 2 is_stmt 1 view .LVU120
 133:Core/Src/mpu_9250.c **** 	int16_t rawData[3];
 591              		.loc 1 133 2 view .LVU121
ARM GAS  /tmp/ccW4Gb28.s 			page 14


 134:Core/Src/mpu_9250.c **** 
 135:Core/Src/mpu_9250.c **** 	// read gyro values
 136:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU9250_SLAVE_ADDRESS, 0x43, I2C_MEMADD_SIZE_8BIT, buffer, 0x6, 1000);
 592              		.loc 1 136 2 view .LVU122
 593 0006 4FF47A73 		mov	r3, #1000
 594 000a 0293     		str	r3, [sp, #8]
 595 000c 0623     		movs	r3, #6
 596 000e 0193     		str	r3, [sp, #4]
 597 0010 06AB     		add	r3, sp, #24
 598 0012 0093     		str	r3, [sp]
 599 0014 0123     		movs	r3, #1
 600 0016 4322     		movs	r2, #67
 601 0018 D021     		movs	r1, #208
 602 001a 1B48     		ldr	r0, .L27
 603              	.LVL40:
 604              		.loc 1 136 2 is_stmt 0 view .LVU123
 605 001c FFF7FEFF 		bl	HAL_I2C_Mem_Read
 606              	.LVL41:
 137:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 607              		.loc 1 137 2 is_stmt 1 view .LVU124
 608 0020 0520     		movs	r0, #5
 609 0022 FFF7FEFF 		bl	HAL_Delay
 610              	.LVL42:
 138:Core/Src/mpu_9250.c **** 
 139:Core/Src/mpu_9250.c **** 	// merging data
 140:Core/Src/mpu_9250.c **** 	for (int i = 0; i < 3; i++){
 611              		.loc 1 140 2 view .LVU125
 612              	.LBB3:
 613              		.loc 1 140 7 view .LVU126
 614              		.loc 1 140 11 is_stmt 0 view .LVU127
 615 0026 0021     		movs	r1, #0
 616              		.loc 1 140 2 view .LVU128
 617 0028 0FE0     		b	.L24
 618              	.LVL43:
 619              	.L25:
 141:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 620              		.loc 1 141 3 is_stmt 1 discriminator 3 view .LVU129
 621              		.loc 1 141 35 is_stmt 0 discriminator 3 view .LVU130
 622 002a 4A00     		lsls	r2, r1, #1
 623              		.loc 1 141 33 discriminator 3 view .LVU131
 624 002c 08AB     		add	r3, sp, #32
 625 002e 03EB4100 		add	r0, r3, r1, lsl #1
 626 0032 10F8083C 		ldrb	r3, [r0, #-8]	@ zero_extendqisi2
 627              		.loc 1 141 39 discriminator 3 view .LVU132
 628 0036 1B02     		lsls	r3, r3, #8
 629              		.loc 1 141 17 discriminator 3 view .LVU133
 630 0038 1BB2     		sxth	r3, r3
 631              		.loc 1 141 53 discriminator 3 view .LVU134
 632 003a 2132     		adds	r2, r2, #33
 633 003c 6A44     		add	r2, sp, r2
 634 003e 12F8082C 		ldrb	r2, [r2, #-8]	@ zero_extendqisi2
 635              		.loc 1 141 45 discriminator 3 view .LVU135
 636 0042 1343     		orrs	r3, r3, r2
 637              		.loc 1 141 14 discriminator 3 view .LVU136
 638 0044 20F8103C 		strh	r3, [r0, #-16]	@ movhi
 140:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 639              		.loc 1 140 25 is_stmt 1 discriminator 3 view .LVU137
ARM GAS  /tmp/ccW4Gb28.s 			page 15


 140:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 640              		.loc 1 140 26 is_stmt 0 discriminator 3 view .LVU138
 641 0048 0131     		adds	r1, r1, #1
 642              	.LVL44:
 643              	.L24:
 140:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 644              		.loc 1 140 18 is_stmt 1 discriminator 1 view .LVU139
 140:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i] << 8) | buffer[2*i+1]);
 645              		.loc 1 140 2 is_stmt 0 discriminator 1 view .LVU140
 646 004a 0229     		cmp	r1, #2
 647 004c EDDD     		ble	.L25
 648              	.LBE3:
 142:Core/Src/mpu_9250.c **** 	}
 143:Core/Src/mpu_9250.c **** 
 144:Core/Src/mpu_9250.c **** 	// scaling to appropriate unit
 145:Core/Src/mpu_9250.c **** 	data->gx = (float)(rawData[0] / sensGyro);
 649              		.loc 1 145 2 is_stmt 1 view .LVU141
 650              		.loc 1 145 13 is_stmt 0 view .LVU142
 651 004e 0F4B     		ldr	r3, .L27+4
 652 0050 1D68     		ldr	r5, [r3]	@ float
 653 0052 BDF91000 		ldrsh	r0, [sp, #16]
 654 0056 FFF7FEFF 		bl	__aeabi_i2f
 655              	.LVL45:
 656              		.loc 1 145 13 view .LVU143
 657 005a 2946     		mov	r1, r5
 658 005c FFF7FEFF 		bl	__aeabi_fdiv
 659              	.LVL46:
 660              		.loc 1 145 11 view .LVU144
 661 0060 E060     		str	r0, [r4, #12]	@ float
 146:Core/Src/mpu_9250.c **** 	data->gy = (float)(rawData[1] / sensGyro);
 662              		.loc 1 146 2 is_stmt 1 view .LVU145
 663              		.loc 1 146 13 is_stmt 0 view .LVU146
 664 0062 BDF91200 		ldrsh	r0, [sp, #18]
 665 0066 FFF7FEFF 		bl	__aeabi_i2f
 666              	.LVL47:
 667 006a 2946     		mov	r1, r5
 668 006c FFF7FEFF 		bl	__aeabi_fdiv
 669              	.LVL48:
 670              		.loc 1 146 11 view .LVU147
 671 0070 2061     		str	r0, [r4, #16]	@ float
 147:Core/Src/mpu_9250.c **** 	data->gz = (float)(rawData[2] / sensGyro);
 672              		.loc 1 147 2 is_stmt 1 view .LVU148
 673              		.loc 1 147 13 is_stmt 0 view .LVU149
 674 0072 BDF91400 		ldrsh	r0, [sp, #20]
 675 0076 FFF7FEFF 		bl	__aeabi_i2f
 676              	.LVL49:
 677 007a 2946     		mov	r1, r5
 678 007c FFF7FEFF 		bl	__aeabi_fdiv
 679              	.LVL50:
 680              		.loc 1 147 11 view .LVU150
 681 0080 6061     		str	r0, [r4, #20]	@ float
 148:Core/Src/mpu_9250.c **** }
 682              		.loc 1 148 1 view .LVU151
 683 0082 09B0     		add	sp, sp, #36
 684              	.LCFI9:
 685              		.cfi_def_cfa_offset 12
 686              		@ sp needed
ARM GAS  /tmp/ccW4Gb28.s 			page 16


 687 0084 30BD     		pop	{r4, r5, pc}
 688              	.LVL51:
 689              	.L28:
 690              		.loc 1 148 1 view .LVU152
 691 0086 00BF     		.align	2
 692              	.L27:
 693 0088 00000000 		.word	hi2c1
 694 008c 00000000 		.word	.LANCHOR1
 695              		.cfi_endproc
 696              	.LFE67:
 698              		.section	.text.Magneto_readXYZ,"ax",%progbits
 699              		.align	1
 700              		.global	Magneto_readXYZ
 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 704              		.fpu softvfp
 706              	Magneto_readXYZ:
 707              	.LVL52:
 708              	.LFB68:
 149:Core/Src/mpu_9250.c **** 
 150:Core/Src/mpu_9250.c **** // Y, X, -Z
 151:Core/Src/mpu_9250.c **** void Magneto_readXYZ(dataHandleIMU *data){
 709              		.loc 1 151 42 is_stmt 1 view -0
 710              		.cfi_startproc
 711              		@ args = 0, pretend = 0, frame = 16
 712              		@ frame_needed = 0, uses_anonymous_args = 0
 713              		.loc 1 151 42 is_stmt 0 view .LVU154
 714 0000 10B5     		push	{r4, lr}
 715              	.LCFI10:
 716              		.cfi_def_cfa_offset 8
 717              		.cfi_offset 4, -8
 718              		.cfi_offset 14, -4
 719 0002 88B0     		sub	sp, sp, #32
 720              	.LCFI11:
 721              		.cfi_def_cfa_offset 40
 722 0004 0446     		mov	r4, r0
 152:Core/Src/mpu_9250.c **** 	uint8_t buffer[6];
 723              		.loc 1 152 2 is_stmt 1 view .LVU155
 153:Core/Src/mpu_9250.c **** 	int16_t rawData[3]; 
 724              		.loc 1 153 2 view .LVU156
 154:Core/Src/mpu_9250.c **** 
 155:Core/Src/mpu_9250.c **** 	// read gyro values
 156:Core/Src/mpu_9250.c **** 	HAL_I2C_Mem_Read(&hi2c1, AK8963_SLAVE_ADDRESS, 0x03, I2C_MEMADD_SIZE_8BIT, buffer, 0x6, 1000);
 725              		.loc 1 156 2 view .LVU157
 726 0006 4FF47A73 		mov	r3, #1000
 727 000a 0293     		str	r3, [sp, #8]
 728 000c 0623     		movs	r3, #6
 729 000e 0193     		str	r3, [sp, #4]
 730 0010 06AB     		add	r3, sp, #24
 731 0012 0093     		str	r3, [sp]
 732 0014 0123     		movs	r3, #1
 733 0016 0322     		movs	r2, #3
 734 0018 1821     		movs	r1, #24
 735 001a 1B48     		ldr	r0, .L33
 736              	.LVL53:
 737              		.loc 1 156 2 is_stmt 0 view .LVU158
ARM GAS  /tmp/ccW4Gb28.s 			page 17


 738 001c FFF7FEFF 		bl	HAL_I2C_Mem_Read
 739              	.LVL54:
 157:Core/Src/mpu_9250.c **** 	HAL_Delay(5);
 740              		.loc 1 157 2 is_stmt 1 view .LVU159
 741 0020 0520     		movs	r0, #5
 742 0022 FFF7FEFF 		bl	HAL_Delay
 743              	.LVL55:
 158:Core/Src/mpu_9250.c **** 
 159:Core/Src/mpu_9250.c **** 	// merging data
 160:Core/Src/mpu_9250.c **** 	for (int i = 0; i < 3; i++){
 744              		.loc 1 160 2 view .LVU160
 745              	.LBB4:
 746              		.loc 1 160 7 view .LVU161
 747              		.loc 1 160 11 is_stmt 0 view .LVU162
 748 0026 0021     		movs	r1, #0
 749              		.loc 1 160 2 view .LVU163
 750 0028 0FE0     		b	.L30
 751              	.LVL56:
 752              	.L31:
 161:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i+1] << 8) | buffer[2*i]);
 753              		.loc 1 161 3 is_stmt 1 discriminator 3 view .LVU164
 754              		.loc 1 161 35 is_stmt 0 discriminator 3 view .LVU165
 755 002a 4A00     		lsls	r2, r1, #1
 756              		.loc 1 161 33 discriminator 3 view .LVU166
 757 002c 02F12103 		add	r3, r2, #33
 758 0030 6B44     		add	r3, sp, r3
 759 0032 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 760              		.loc 1 161 41 discriminator 3 view .LVU167
 761 0036 1B02     		lsls	r3, r3, #8
 762              		.loc 1 161 17 discriminator 3 view .LVU168
 763 0038 1BB2     		sxth	r3, r3
 764              		.loc 1 161 55 discriminator 3 view .LVU169
 765 003a 2032     		adds	r2, r2, #32
 766 003c 6A44     		add	r2, sp, r2
 767 003e 12F8080C 		ldrb	r0, [r2, #-8]	@ zero_extendqisi2
 768              		.loc 1 161 47 discriminator 3 view .LVU170
 769 0042 0343     		orrs	r3, r3, r0
 770              		.loc 1 161 14 discriminator 3 view .LVU171
 771 0044 22F8103C 		strh	r3, [r2, #-16]	@ movhi
 160:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i+1] << 8) | buffer[2*i]);
 772              		.loc 1 160 25 is_stmt 1 discriminator 3 view .LVU172
 160:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i+1] << 8) | buffer[2*i]);
 773              		.loc 1 160 26 is_stmt 0 discriminator 3 view .LVU173
 774 0048 0131     		adds	r1, r1, #1
 775              	.LVL57:
 776              	.L30:
 160:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i+1] << 8) | buffer[2*i]);
 777              		.loc 1 160 18 is_stmt 1 discriminator 1 view .LVU174
 160:Core/Src/mpu_9250.c **** 		rawData[i] = ((int16_t)(buffer[2*i+1] << 8) | buffer[2*i]);
 778              		.loc 1 160 2 is_stmt 0 discriminator 1 view .LVU175
 779 004a 0229     		cmp	r1, #2
 780 004c EDDD     		ble	.L31
 781              	.LBE4:
 162:Core/Src/mpu_9250.c **** 	}
 163:Core/Src/mpu_9250.c **** 
 164:Core/Src/mpu_9250.c **** 	// scaling to appropriate unit and correcting axis
 165:Core/Src/mpu_9250.c **** 	data->mx = (float)(rawData[1] / sensMag);
ARM GAS  /tmp/ccW4Gb28.s 			page 18


 782              		.loc 1 165 2 is_stmt 1 view .LVU176
 783              		.loc 1 165 13 is_stmt 0 view .LVU177
 784 004e BDF91200 		ldrsh	r0, [sp, #18]
 785 0052 FFF7FEFF 		bl	__aeabi_i2f
 786              	.LVL58:
 787              		.loc 1 165 13 view .LVU178
 788 0056 0D49     		ldr	r1, .L33+4
 789 0058 FFF7FEFF 		bl	__aeabi_fdiv
 790              	.LVL59:
 791              		.loc 1 165 11 view .LVU179
 792 005c A061     		str	r0, [r4, #24]	@ float
 166:Core/Src/mpu_9250.c **** 	data->my = (float)(rawData[0] / sensMag);
 793              		.loc 1 166 2 is_stmt 1 view .LVU180
 794              		.loc 1 166 13 is_stmt 0 view .LVU181
 795 005e BDF91000 		ldrsh	r0, [sp, #16]
 796 0062 FFF7FEFF 		bl	__aeabi_i2f
 797              	.LVL60:
 798 0066 0949     		ldr	r1, .L33+4
 799 0068 FFF7FEFF 		bl	__aeabi_fdiv
 800              	.LVL61:
 801              		.loc 1 166 11 view .LVU182
 802 006c E061     		str	r0, [r4, #28]	@ float
 167:Core/Src/mpu_9250.c **** 	data->mz = -(float)(rawData[2] / sensMag);
 803              		.loc 1 167 2 is_stmt 1 view .LVU183
 804              		.loc 1 167 14 is_stmt 0 view .LVU184
 805 006e BDF91400 		ldrsh	r0, [sp, #20]
 806 0072 FFF7FEFF 		bl	__aeabi_i2f
 807              	.LVL62:
 808 0076 0549     		ldr	r1, .L33+4
 809 0078 FFF7FEFF 		bl	__aeabi_fdiv
 810              	.LVL63:
 811              		.loc 1 167 13 view .LVU185
 812 007c 00F10040 		add	r0, r0, #-2147483648
 813              		.loc 1 167 11 view .LVU186
 814 0080 2062     		str	r0, [r4, #32]	@ float
 168:Core/Src/mpu_9250.c **** }
 815              		.loc 1 168 1 view .LVU187
 816 0082 08B0     		add	sp, sp, #32
 817              	.LCFI12:
 818              		.cfi_def_cfa_offset 8
 819              		@ sp needed
 820 0084 10BD     		pop	{r4, pc}
 821              	.LVL64:
 822              	.L34:
 823              		.loc 1 168 1 view .LVU188
 824 0086 00BF     		.align	2
 825              	.L33:
 826 0088 00000000 		.word	hi2c1
 827 008c 0681153E 		.word	1041596678
 828              		.cfi_endproc
 829              	.LFE68:
 831              		.section	.text.IMU_measure,"ax",%progbits
 832              		.align	1
 833              		.global	IMU_measure
 834              		.syntax unified
 835              		.thumb
 836              		.thumb_func
ARM GAS  /tmp/ccW4Gb28.s 			page 19


 837              		.fpu softvfp
 839              	IMU_measure:
 840              	.LVL65:
 841              	.LFB69:
 169:Core/Src/mpu_9250.c **** 
 170:Core/Src/mpu_9250.c **** void IMU_measure(dataHandleIMU* data){
 842              		.loc 1 170 38 is_stmt 1 view -0
 843              		.cfi_startproc
 844              		@ args = 0, pretend = 0, frame = 0
 845              		@ frame_needed = 0, uses_anonymous_args = 0
 846              		.loc 1 170 38 is_stmt 0 view .LVU190
 847 0000 10B5     		push	{r4, lr}
 848              	.LCFI13:
 849              		.cfi_def_cfa_offset 8
 850              		.cfi_offset 4, -8
 851              		.cfi_offset 14, -4
 852 0002 0446     		mov	r4, r0
 171:Core/Src/mpu_9250.c **** 	Accel_readXYZ(data);
 853              		.loc 1 171 2 is_stmt 1 view .LVU191
 854 0004 FFF7FEFF 		bl	Accel_readXYZ
 855              	.LVL66:
 172:Core/Src/mpu_9250.c **** 	Gyro_readXYZ(data);
 856              		.loc 1 172 2 view .LVU192
 857 0008 2046     		mov	r0, r4
 858 000a FFF7FEFF 		bl	Gyro_readXYZ
 859              	.LVL67:
 173:Core/Src/mpu_9250.c **** 	Magneto_readXYZ(data);
 860              		.loc 1 173 2 view .LVU193
 861 000e 2046     		mov	r0, r4
 862 0010 FFF7FEFF 		bl	Magneto_readXYZ
 863              	.LVL68:
 174:Core/Src/mpu_9250.c **** }...
 864              		.loc 1 174 1 is_stmt 0 view .LVU194
 865 0014 10BD     		pop	{r4, pc}
 866              		.loc 1 174 1 view .LVU195
 867              		.cfi_endproc
 868              	.LFE69:
 870              		.section	.bss.sensAccel,"aw",%nobits
 871              		.align	2
 872              		.set	.LANCHOR0,. + 0
 875              	sensAccel:
 876 0000 00000000 		.space	4
 877              		.section	.bss.sensGyro,"aw",%nobits
 878              		.align	2
 879              		.set	.LANCHOR1,. + 0
 882              	sensGyro:
 883 0000 00000000 		.space	4
 884              		.text
 885              	.Letext0:
 886              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 887              		.file 3 "Core/Inc/mpu_9250.h"
 888              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 889              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 890              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 891              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 892              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 893              		.file 9 "Core/Inc/i2c.h"
ARM GAS  /tmp/ccW4Gb28.s 			page 20


ARM GAS  /tmp/ccW4Gb28.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mpu_9250.c
     /tmp/ccW4Gb28.s:16     .text.MPU_9250_Init:0000000000000000 $t
     /tmp/ccW4Gb28.s:24     .text.MPU_9250_Init:0000000000000000 MPU_9250_Init
     /tmp/ccW4Gb28.s:264    .text.MPU_9250_Init:000000000000017a $d
     /tmp/ccW4Gb28.s:323    .text.MPU_9250_Init:00000000000001cc $d
     /tmp/ccW4Gb28.s:418    .text.MPU_9250_Init:0000000000000228 $d
     /tmp/ccW4Gb28.s:431    .text.Accel_readXYZ:0000000000000000 $t
     /tmp/ccW4Gb28.s:438    .text.Accel_readXYZ:0000000000000000 Accel_readXYZ
     /tmp/ccW4Gb28.s:559    .text.Accel_readXYZ:0000000000000088 $d
     /tmp/ccW4Gb28.s:565    .text.Gyro_readXYZ:0000000000000000 $t
     /tmp/ccW4Gb28.s:572    .text.Gyro_readXYZ:0000000000000000 Gyro_readXYZ
     /tmp/ccW4Gb28.s:693    .text.Gyro_readXYZ:0000000000000088 $d
     /tmp/ccW4Gb28.s:699    .text.Magneto_readXYZ:0000000000000000 $t
     /tmp/ccW4Gb28.s:706    .text.Magneto_readXYZ:0000000000000000 Magneto_readXYZ
     /tmp/ccW4Gb28.s:826    .text.Magneto_readXYZ:0000000000000088 $d
     /tmp/ccW4Gb28.s:832    .text.IMU_measure:0000000000000000 $t
     /tmp/ccW4Gb28.s:839    .text.IMU_measure:0000000000000000 IMU_measure
     /tmp/ccW4Gb28.s:871    .bss.sensAccel:0000000000000000 $d
     /tmp/ccW4Gb28.s:875    .bss.sensAccel:0000000000000000 sensAccel
     /tmp/ccW4Gb28.s:878    .bss.sensGyro:0000000000000000 $d
     /tmp/ccW4Gb28.s:882    .bss.sensGyro:0000000000000000 sensGyro
     /tmp/ccW4Gb28.s:289    .text.MPU_9250_Init:0000000000000193 $d
     /tmp/ccW4Gb28.s:289    .text.MPU_9250_Init:0000000000000194 $t
     /tmp/ccW4Gb28.s:348    .text.MPU_9250_Init:00000000000001e5 $d
     /tmp/ccW4Gb28.s:348    .text.MPU_9250_Init:00000000000001e6 $t

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
HAL_Delay
HAL_I2C_Mem_Read
hi2c1
__aeabi_i2f
__aeabi_fdiv
